<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Search | Lightweight Search Engine</title><link rel=stylesheet href=/hugo-lightweight-search/css/main.min.73be4799b2091d293b47b52ca2642fe82aa2b1c9c050e8d1b389a80939a30dd4.css integrity="sha256-c75HmbIJHSk7R7UsomQv6CqiscnAUOjRs4moCTmjDdQ=" crossorigin=anonymous><script src=/hugo-lightweight-search/js/main.23cd0c7d837263b9eaeb96ee2d9ccfa2969daa3fa00fa1c1fe8701a9b87251a1.js integrity="sha256-I80MfYNyY7nq65buLZzPopadqj+gD6HB/ocBqbhyUaE=" crossorigin=anonymous></script></head><body><header><h1>Lightweight Search Engine</h1><nav><ul><li><a href=/hugo-lightweight-search/>Home</a></li><li><a href=/hugo-lightweight-search/docs/>Documentation</a></li><li><a href=/hugo-lightweight-search/posts/>Blog</a></li><li><a href=/hugo-lightweight-search/pages/about/>About</a></li><li><a href=/hugo-lightweight-search/pages/search/>Search</a></li></ul></nav></header><main><div class=search-container><h1>Search</h1><div class=search-form><input type=text id=search-input placeholder=Search... autocomplete=off>
<select id=section-filter><option value>All sections</option></select>
<select id=sort-order><option value=relevance>Sort by: Relevance</option><option value=date_desc>Sort by: Newest first</option><option value=date_asc>Sort by: Oldest first</option></select>
<button id=search-button>Search</button></div><details class=search-help><summary>Advanced Search Options</summary><div class=search-help-content><h3>Search Query Syntax</h3><div class=help-section><h4>Basic Search</h4><p>Enter words to search (default: AND logic)</p><code>camera lens</code><p class=help-note>Finds posts with both "camera" AND "lens"</p></div><div class=help-section><h4>Boolean Operators</h4><code>photo OR video</code><p class=help-note>Finds posts with either term</p></div><div class=help-section><h4>Phrase Search</h4><code>"digital camera"</code><p class=help-note>Exact phrase match (words must be adjacent)</p></div><div class=help-section><h4>Field-Specific Search</h4><code>title:photography</code><br><code>tags:photo</code><br><code>categories:travel</code><p class=help-note>Search within specific fields</p></div><div class=help-section><h4>Date Filters</h4><code>camera after:2024-01-01</code><br><code>sunset before:2023-12-31</code><br><code>photo after:2024-01-01 before:2024-12-31</code><p class=help-note>Filter by publication date (YYYY-MM-DD)</p></div><div class=help-section><h4>Complex Queries</h4><code>title:photography camera OR lens after:2024-01-01</code><p class=help-note>Combine all features</p></div><div class=help-section><h4>Features</h4><ul><li><strong>Fuzzy matching:</strong> "photo" matches photos, photography, photographer</li><li><strong>Stemming:</strong> Automatic word variant matching</li><li><strong>Ranking:</strong> Results ranked by title match, relevancy (BM25), and recency</li></ul></div></div></details><div id=search-loading class=loading style=display:none>Searching...</div><div id=search-results></div><div id=search-pagination></div></div><style>.search-container{max-width:800px;margin:0 auto;padding:20px}.search-form{display:flex;gap:10px;margin-bottom:30px;flex-wrap:wrap}#search-input{flex:1;min-width:300px;padding:12px;border:1px solid #ddd;border-radius:4px;font-size:16px}#section-filter,#sort-order{padding:12px;border:1px solid #ddd;border-radius:4px;min-width:150px}#search-button{padding:12px 24px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:16px}#search-button:hover{background-color:#0056b3}.loading{text-align:center;padding:20px;color:#666}.search-result{border-bottom:1px solid #eee;padding:20px 0}.search-result:last-child{border-bottom:none}.result-title{font-size:20px;margin-bottom:5px}.result-title a{color:#1a73e8;text-decoration:none}.result-title a:hover{text-decoration:underline}.result-meta{color:#666;font-size:14px;margin-bottom:10px}.result-summary{color:#333;line-height:1.5}.result-tags{margin-top:10px}.tag{background-color:#f0f0f0;padding:3px 8px;border-radius:12px;font-size:12px;margin-right:5px;display:inline-block}mark{background-color:#ffeb3b;padding:0 2px;border-radius:2px}.search-help{background-color:#f8f9fa;border:1px solid #dee2e6;border-radius:6px;padding:15px;margin-bottom:25px}.search-help summary{cursor:pointer;font-weight:600;font-size:16px;color:#495057;user-select:none;list-style:none}.search-help summary::-webkit-details-marker{display:none}.search-help summary:before{content:"▶ ";display:inline-block;transition:transform .2s}.search-help[open] summary:before{transform:rotate(90deg)}.search-help summary:hover{color:#007bff}.search-help-content{margin-top:20px;padding-top:15px;border-top:1px solid #dee2e6}.search-help-content h3{margin-top:0;margin-bottom:20px;color:#212529;font-size:18px}.help-section{margin-bottom:20px}.help-section h4{margin:0 0 8px;font-size:15px;color:#495057}.help-section code{display:inline-block;background-color:#e9ecef;padding:4px 8px;border-radius:3px;font-family:courier new,monospace;font-size:14px;color:#d63384;margin:4px 0}.help-section p{margin:8px 0 0;color:#6c757d;font-size:14px;line-height:1.5}.help-note{font-style:italic;font-size:13px}.help-section ul{margin:8px 0;padding-left:20px}.help-section li{color:#495057;font-size:14px;line-height:1.6;margin-bottom:4px}.pagination{display:flex;justify-content:center;margin-top:30px;gap:10px}.pagination button{padding:8px 12px;border:1px solid #ddd;background:#fff;cursor:pointer;border-radius:4px}.pagination button:hover:not(:disabled){background-color:#f5f5f5}.pagination button:disabled{opacity:.5;cursor:not-allowed}.pagination button.active{background-color:#007bff;color:#fff;border-color:#007bff}.search-stats{color:#666;margin-bottom:20px;font-size:14px}.no-results{text-align:center;padding:40px;color:#666}@media(max-width:768px){.search-form{flex-direction:column}#search-input{min-width:auto}}</style><script>class HugoSearch{constructor(){this.apiUrl="https://sandbox.darcynorman.net/hugo-lightweight-search/api/search.php",this.currentPage=1,this.currentQuery="",this.currentSection="",this.currentSort="relevance",this.initializeElements(),this.bindEvents(),this.loadSections(),this.checkUrlParams()}initializeElements(){this.searchInput=document.getElementById("search-input"),this.sectionFilter=document.getElementById("section-filter"),this.sortOrder=document.getElementById("sort-order"),this.searchButton=document.getElementById("search-button"),this.searchLoading=document.getElementById("search-loading"),this.searchResults=document.getElementById("search-results"),this.searchPagination=document.getElementById("search-pagination")}bindEvents(){this.searchInput.addEventListener("keyup",e=>{e.key==="Enter"?this.performSearch():(clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchInput.value.length>=2&&this.performSearch()},300))}),this.searchButton.addEventListener("click",()=>{this.performSearch()}),this.sectionFilter.addEventListener("change",()=>{this.performSearch()}),this.sortOrder.addEventListener("change",()=>{this.performSearch()})}async loadSections(){try{const t=await fetch(`${this.apiUrl}?action=sections`),e=await t.json();e.sections&&e.sections.forEach(e=>{const t=document.createElement("option");t.value=e,t.textContent=e.charAt(0).toUpperCase()+e.slice(1),this.sectionFilter.appendChild(t)})}catch(e){console.error("Error loading sections:",e)}}checkUrlParams(){const e=new URLSearchParams(window.location.search),t=e.get("q"),n=e.get("section"),o=e.get("page"),s=e.get("sort");t&&(this.searchInput.value=t,this.currentQuery=t),n&&(this.sectionFilter.value=n,this.currentSection=n),s&&(this.sortOrder.value=s,this.currentSort=s),o&&(this.currentPage=parseInt(o)),t&&this.performSearch()}async performSearch(e=1){const t=this.searchInput.value.trim(),s=this.sectionFilter.value,n=this.sortOrder.value;if(!t||t.length<2){this.searchResults.innerHTML='<div class="no-results">Please enter at least 2 characters to search.</div>',this.searchPagination.innerHTML="",this.updateUrl("","","",1);return}this.currentQuery=t,this.currentSection=s,this.currentSort=n,this.currentPage=e,this.showLoading(),this.updateUrl(t,s,n,e);try{const o=new URLSearchParams({q:t,page:e.toString()});s&&o.append("section",s),n&&n!=="relevance"&&o.append("sort",n);const a=await fetch(`${this.apiUrl}?${o}`),i=await a.json();if(i.error)throw new Error(i.error);this.displayResults(i)}catch(e){console.error("Search error:",e),this.searchResults.innerHTML=`<div class="no-results">Search error: ${e.message}</div>`}finally{this.hideLoading()}}displayResults(e){if(e.results.length===0){this.searchResults.innerHTML='<div class="no-results">No results found.</div>',this.searchPagination.innerHTML="";return}const t=`<div class="search-stats">Found ${e.total} results for "${e.query}" (page ${e.page} of ${e.total_pages})</div>`,n=e.results.map(e=>this.renderResult(e)).join("");this.searchResults.innerHTML=t+n,this.renderPagination(e)}renderResult(e){const t=Array.isArray(e.tags)?e.tags:[],n=t.length>0?`<div class="result-tags">${t.map(e=>`<span class="tag">${e}</span>`).join("")}</div>`:"";return`
            <div class="search-result">
                <div class="result-title">
                    <a href="${e.url}">${e.title_highlighted||e.title}</a>
                </div>
                <div class="result-meta">
                    ${e.section?e.section+" • ":""}${e.date}
                </div>
                <div class="result-summary">
                    ${e.summary_highlighted||e.content_snippet||e.summary||""}
                </div>
                ${n}
            </div>
        `}renderPagination(e){if(e.total_pages<=1){this.searchPagination.innerHTML="";return}const n=e.page,s=e.total_pages;let t='<div class="pagination">';n>1&&(t+=`<button onclick="search.performSearch(${n-1})">Previous</button>`);const o=Math.max(1,n-2),i=Math.min(s,n+2);o>1&&(t+=`<button onclick="search.performSearch(1)">1</button>`,o>2&&(t+="<span>...</span>"));for(let e=o;e<=i;e++){const s=e===n?" active":"";t+=`<button class="${s}" onclick="search.performSearch(${e})">${e}</button>`}i<s&&(i<s-1&&(t+="<span>...</span>"),t+=`<button onclick="search.performSearch(${s})">${s}</button>`),n<s&&(t+=`<button onclick="search.performSearch(${n+1})">Next</button>`),t+="</div>",this.searchPagination.innerHTML=t}showLoading(){this.searchLoading.style.display="block",this.searchResults.innerHTML="",this.searchPagination.innerHTML=""}hideLoading(){this.searchLoading.style.display="none"}updateUrl(e,t,n,s){const o=new URLSearchParams;e&&o.append("q",e),t&&o.append("section",t),n&&n!=="relevance"&&o.append("sort",n),s>1&&o.append("page",s.toString());const i=window.location.pathname+(o.toString()?"?"+o.toString():"");window.history.replaceState({},"",i)}}let search;document.addEventListener("DOMContentLoaded",()=>{search=new HugoSearch})</script></main><footer><p>Copyright 2025. All rights reserved.</p></footer></body></html>