<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Configuration | Lightweight Search Engine</title><link rel=stylesheet href=/hugo-lightweight-search/css/main.min.73be4799b2091d293b47b52ca2642fe82aa2b1c9c050e8d1b389a80939a30dd4.css integrity="sha256-c75HmbIJHSk7R7UsomQv6CqiscnAUOjRs4moCTmjDdQ=" crossorigin=anonymous><script src=/hugo-lightweight-search/js/main.23cd0c7d837263b9eaeb96ee2d9ccfa2969daa3fa00fa1c1fe8701a9b87251a1.js integrity="sha256-I80MfYNyY7nq65buLZzPopadqj+gD6HB/ocBqbhyUaE=" crossorigin=anonymous></script></head><body><header><h1>Lightweight Search Engine</h1><nav><ul><li><a href=/hugo-lightweight-search/>Home</a></li><li><a href=/hugo-lightweight-search/docs/>Documentation</a></li><li><a href=/hugo-lightweight-search/posts/>Blog</a></li><li><a href=/hugo-lightweight-search/pages/about/>About</a></li><li><a href=/hugo-lightweight-search/pages/search/>Search</a></li></ul></nav></header><main><h1>Configuration</h1><time datetime=2025-10-06T00:00:00+00:00>October 6, 2025</time><h1 id=configuration>Configuration</h1><p>Customize Hugo SQLite Search to match your site&rsquo;s needs.</p><h2 id=hugo-configuration>Hugo Configuration</h2><h3 id=required-json-output>Required: JSON Output</h3><p>Enable JSON output in your <code>hugo.yaml</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>outputs</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>home</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>HTML</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>RSS</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>JSON</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>outputFormats</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>JSON</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>baseName</span>: <span style=color:#ae81ff>index</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>isPlainText</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>mediaType</span>: <span style=color:#ae81ff>application/json</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>notAlternative</span>: <span style=color:#66d9ef>true</span>
</span></span></code></pre></div><h3 id=json-template-configuration>JSON Template Configuration</h3><p>The search data template (<code>layouts/_default/search-data.json</code>) controls what content gets indexed.</p><h4 id=default-template>Default Template</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-template data-lang=go-template><span style=display:flex><span><span style=color:#75715e>{{-</span> <span style=color:#a6e22e>$pages</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>where</span> <span style=color:#a6e22e>site</span><span style=color:#a6e22e>.RegularPages</span> <span style=color:#e6db74>&#34;Type&#34;</span> <span style=color:#e6db74>&#34;!=&#34;</span> <span style=color:#e6db74>&#34;page&#34;</span> <span style=color:#75715e>-}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{-</span> <span style=color:#a6e22e>$pages</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>where</span> <span style=color:#a6e22e>$pages</span> <span style=color:#e6db74>&#34;Draft&#34;</span> <span style=color:#e6db74>&#34;!=&#34;</span> <span style=color:#66d9ef>true</span> <span style=color:#75715e>-}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{-</span> <span style=color:#a6e22e>$pages</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>where</span> <span style=color:#a6e22e>$pages</span> <span style=color:#e6db74>&#34;Params.search&#34;</span> <span style=color:#e6db74>&#34;!=&#34;</span> <span style=color:#66d9ef>false</span> <span style=color:#75715e>-}}</span>
</span></span><span style=display:flex><span>[
</span></span><span style=display:flex><span><span style=color:#75715e>{{-</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>$index</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>$page</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>$pages</span> <span style=color:#75715e>-}}</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>{{-</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>$index</span> <span style=color:#75715e>}}</span>,<span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    &#34;id&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.File.UniqueID</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;title&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Title</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;url&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Permalink</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;content&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Plain</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;summary&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Summary</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;date&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Date.Format</span> <span style=color:#e6db74>&#34;2006-01-02&#34;</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;section&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Section</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;tags&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Params.tags</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;categories&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Params.categories</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span><span style=color:#75715e>{{-</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>-}}</span>
</span></span><span style=display:flex><span>]
</span></span></code></pre></div><h4 id=exclude-pages-from-search>Exclude Pages from Search</h4><p>Add to page front matter:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>---
</span></span><span style=display:flex><span><span style=color:#f92672>title</span>: <span style=color:#e6db74>&#34;Private Page&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>search</span>: <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>---
</span></span></code></pre></div><h4 id=include-only-specific-sections>Include Only Specific Sections</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-template data-lang=go-template><span style=display:flex><span><span style=color:#75715e>{{-</span> <span style=color:#a6e22e>$pages</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>where</span> <span style=color:#a6e22e>site</span><span style=color:#a6e22e>.RegularPages</span> <span style=color:#e6db74>&#34;Section&#34;</span> <span style=color:#e6db74>&#34;in&#34;</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>slice</span> <span style=color:#e6db74>&#34;posts&#34;</span> <span style=color:#e6db74>&#34;docs&#34;</span><span style=color:#f92672>)</span> <span style=color:#75715e>-}}</span>
</span></span></code></pre></div><h4 id=limit-content-length>Limit Content Length</h4><p>For very long pages, truncate content:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-template data-lang=go-template><span style=display:flex><span>&#34;content&#34;: <span style=color:#75715e>{{</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>truncate</span> <span style=color:#a6e22e>5000</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Plain</span><span style=color:#f92672>)</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span></code></pre></div><h4 id=add-custom-fields>Add Custom Fields</h4><p>Include additional metadata:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-template data-lang=go-template><span style=display:flex><span>{
</span></span><span style=display:flex><span>  &#34;id&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.File.UniqueID</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>  &#34;title&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Title</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>  &#34;url&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Permalink</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>  &#34;content&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Plain</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>  &#34;summary&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Summary</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>  &#34;date&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Date.Format</span> <span style=color:#e6db74>&#34;2006-01-02&#34;</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>  &#34;section&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Section</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>  &#34;tags&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Params.tags</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>  &#34;categories&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Params.categories</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>  &#34;author&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Params.author</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>  &#34;featured&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Params.featured</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=php-index-builder-configuration>PHP Index Builder Configuration</h2><p>Modify <code>scripts/build-search-index.php</code> to customize indexing behavior.</p><h3 id=database-schema>Database Schema</h3><p>The script creates two tables:</p><p><strong>search_content</strong> (main table):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> search_content (
</span></span><span style=display:flex><span>    id TEXT <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,
</span></span><span style=display:flex><span>    title TEXT <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>,
</span></span><span style=display:flex><span>    url TEXT <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>,
</span></span><span style=display:flex><span>    content TEXT,
</span></span><span style=display:flex><span>    summary TEXT,
</span></span><span style=display:flex><span>    date TEXT,
</span></span><span style=display:flex><span>    section TEXT,
</span></span><span style=display:flex><span>    tags TEXT,
</span></span><span style=display:flex><span>    categories TEXT
</span></span><span style=display:flex><span>)
</span></span></code></pre></div><p><strong>search_fts</strong> (FTS5 virtual table):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> VIRTUAL <span style=color:#66d9ef>TABLE</span> search_fts <span style=color:#66d9ef>USING</span> fts5(
</span></span><span style=display:flex><span>    title,
</span></span><span style=display:flex><span>    content,
</span></span><span style=display:flex><span>    summary,
</span></span><span style=display:flex><span>    tags,
</span></span><span style=display:flex><span>    categories,
</span></span><span style=display:flex><span>    content<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;search_content&#39;</span>,
</span></span><span style=display:flex><span>    content_rowid<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;rowid&#39;</span>,
</span></span><span style=display:flex><span>    tokenize<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;porter&#39;</span>
</span></span><span style=display:flex><span>)
</span></span></code></pre></div><h3 id=tokenizer-options>Tokenizer Options</h3><p>Change the tokenizer by modifying the FTS5 table creation:</p><p><strong>Porter Stemmer (default)</strong>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>tokenize</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#39;porter&#39;</span>
</span></span></code></pre></div><p><strong>Unicode61 (case-insensitive, no stemming)</strong>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>tokenize</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#39;unicode61&#39;</span>
</span></span></code></pre></div><p><strong>Trigram (for CJK languages)</strong>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>tokenize</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#39;trigram&#39;</span>
</span></span></code></pre></div><h3 id=custom-fields-in-index>Custom Fields in Index</h3><p>To index additional fields, modify the table creation and insert statements:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#75715e>// Add custom field to table
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>$pdo<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>exec</span>(<span style=color:#e6db74>&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    CREATE TABLE search_content (
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        ...
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        author TEXT,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        featured INTEGER
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    )
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Add to FTS5 table
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>$pdo<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>exec</span>(<span style=color:#e6db74>&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    CREATE VIRTUAL TABLE search_fts USING fts5(
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        title,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        content,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        summary,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        tags,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        categories,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        author,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        ...
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    )
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Update insert statement
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>$stmt<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>execute</span>([
</span></span><span style=display:flex><span>    $item[<span style=color:#e6db74>&#39;id&#39;</span>] <span style=color:#f92672>??</span> <span style=color:#e6db74>&#39;&#39;</span>,
</span></span><span style=display:flex><span>    $item[<span style=color:#e6db74>&#39;title&#39;</span>] <span style=color:#f92672>??</span> <span style=color:#e6db74>&#39;&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>    $item[<span style=color:#e6db74>&#39;author&#39;</span>] <span style=color:#f92672>??</span> <span style=color:#e6db74>&#39;&#39;</span>,
</span></span><span style=display:flex><span>    $item[<span style=color:#e6db74>&#39;featured&#39;</span>] <span style=color:#f92672>?</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>]);
</span></span></code></pre></div><h2 id=php-search-api-configuration>PHP Search API Configuration</h2><p>Customize <code>static/api/search.php</code> to modify search behavior.</p><h3 id=results-per-page>Results Per Page</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SearchAPI</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> $resultsPerPage <span style=color:#f92672>=</span> <span style=color:#ae81ff>20</span>;  <span style=color:#75715e>// Default results per page
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>private</span> $maxResults <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>;     <span style=color:#75715e>// Maximum allowed
</span></span></span></code></pre></div><h3 id=field-weighting>Field Weighting</h3><p>FTS5 doesn&rsquo;t directly support field weighting, but you can boost results by modifying the ranking:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#75715e>// In the ORDER BY clause, boost title matches
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>$sql <span style=color:#f92672>.=</span> <span style=color:#e6db74>&#34; ORDER BY
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    CASE
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        WHEN c.title LIKE :title_boost THEN 1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        ELSE 2
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    END,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    bm25(f.search_fts),
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    c.date DESC&#34;</span>;
</span></span></code></pre></div><h3 id=custom-sorting-options>Custom Sorting Options</h3><p>Add new sort options:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span>$validSorts <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;relevance&#39;</span>, <span style=color:#e6db74>&#39;date_desc&#39;</span>, <span style=color:#e6db74>&#39;date_asc&#39;</span>, <span style=color:#e6db74>&#39;title_asc&#39;</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Add to switch statement
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;title_asc&#39;</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    $sql <span style=color:#f92672>.=</span> <span style=color:#e6db74>&#34; ORDER BY c.title ASC, bm25(f.search_fts)&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>break</span>;
</span></span></code></pre></div><h3 id=database-path>Database Path</h3><p>Change the default database location:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>__construct</span>($dbPath <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;../search.db&#39;</span>) {
</span></span><span style=display:flex><span>    $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>dbPath</span> <span style=color:#f92672>=</span> $dbPath;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=cors-configuration>CORS Configuration</h3><p>Modify CORS headers for specific domains:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>header</span>(<span style=color:#e6db74>&#39;Access-Control-Allow-Origin: https://yourdomain.com&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>header</span>(<span style=color:#e6db74>&#39;Access-Control-Allow-Methods: GET&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>header</span>(<span style=color:#e6db74>&#39;Access-Control-Allow-Headers: Content-Type&#39;</span>);
</span></span></code></pre></div><h2 id=search-page-configuration>Search Page Configuration</h2><p>Customize <code>layouts/page/search.html</code> for your needs.</p><h3 id=api-endpoint>API Endpoint</h3><p>Change the API URL:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>HugoSearch</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>constructor</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>apiUrl</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;/api/search.php&#39;</span>;  <span style=color:#75715e>// Change this
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        ...
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=default-results-per-page>Default Results Per Page</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>async</span> <span style=color:#a6e22e>performSearch</span>(<span style=color:#a6e22e>page</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>params</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>URLSearchParams</span>({
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>q</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>query</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>page</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>page</span>.<span style=color:#a6e22e>toString</span>(),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>limit</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;20&#39;</span>  <span style=color:#75715e>// Change default limit
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    });
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=debounce-timing>Debounce Timing</h3><p>Adjust search-as-you-type delay:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>searchTimeout</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>setTimeout</span>(() =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>searchInput</span>.<span style=color:#a6e22e>value</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>2</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>performSearch</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}, <span style=color:#ae81ff>300</span>);  <span style=color:#75715e>// 300ms delay - adjust as needed
</span></span></span></code></pre></div><h3 id=minimum-query-length>Minimum Query Length</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>query</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>2</span>) {  <span style=color:#75715e>// Change minimum length
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>searchResults</span>.<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&lt;div class=&#34;no-results&#34;&gt;Please enter at least 2 characters to search.&lt;/div&gt;&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=styling>Styling</h3><p>Customize the embedded CSS in <code>search.html</code> or extract to a separate stylesheet:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>style</span>&gt;
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>search-container</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>max-width</span>: <span style=color:#ae81ff>800</span><span style=color:#66d9ef>px</span>;  <span style=color:#75715e>/* Adjust width */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin</span>: <span style=color:#ae81ff>0</span> <span style=color:#66d9ef>auto</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>padding</span>: <span style=color:#ae81ff>20</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>#search-input {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>font-size</span>: <span style=color:#ae81ff>16</span><span style=color:#66d9ef>px</span>;  <span style=color:#75715e>/* Adjust size */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>padding</span>: <span style=color:#ae81ff>12</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>mark</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background-color</span>: <span style=color:#ae81ff>#ffeb3b</span>;  <span style=color:#75715e>/* Change highlight color */</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>style</span>&gt;
</span></span></code></pre></div><h2 id=build-script-configuration>Build Script Configuration</h2><p>Customize <code>build.sh</code> for your workflow.</p><h3 id=output-directory>Output Directory</h3><p>Change Hugo&rsquo;s output directory:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Build to custom directory</span>
</span></span><span style=display:flex><span>hugo --minify --destination custom-public
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>SEARCH_DATA_FILE<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;custom-public/index.json&#34;</span>
</span></span></code></pre></div><h3 id=skip-minification>Skip Minification</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Build without minification (faster development builds)</span>
</span></span><span style=display:flex><span>hugo
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Or with specific minify options</span>
</span></span><span style=display:flex><span>hugo --minify --minifyOptions css<span style=color:#f92672>=</span>true,js<span style=color:#f92672>=</span>false
</span></span></code></pre></div><h3 id=custom-database-path>Custom Database Path</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Create database in custom location</span>
</span></span><span style=display:flex><span>php scripts/build-search-index.php /var/db/search.db <span style=color:#e6db74>&#34;</span>$SEARCH_DATA_FILE<span style=color:#e6db74>&#34;</span>
</span></span></code></pre></div><h3 id=post-build-actions>Post-Build Actions</h3><p>Add custom actions after build:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>echo <span style=color:#e6db74>&#34;âœ… Search database created&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Example: Copy to multiple locations</span>
</span></span><span style=display:flex><span>cp public/search.db backup/search-<span style=color:#66d9ef>$(</span>date +%Y%m%d<span style=color:#66d9ef>)</span>.db
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Example: Generate search statistics</span>
</span></span><span style=display:flex><span>sqlite3 public/search.db <span style=color:#e6db74>&#34;SELECT COUNT(*) as total_pages FROM search_content;&#34;</span>
</span></span><span style=display:flex><span>sqlite3 public/search.db <span style=color:#e6db74>&#34;SELECT section, COUNT(*) FROM search_content GROUP BY section;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Example: Validate database</span>
</span></span><span style=display:flex><span>sqlite3 public/search.db <span style=color:#e6db74>&#34;PRAGMA integrity_check;&#34;</span>
</span></span></code></pre></div><h2 id=advanced-configuration>Advanced Configuration</h2><h3 id=multi-language-support>Multi-Language Support</h3><p>For multi-language sites, create separate indexes per language:</p><p><strong>Hugo config</strong>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>outputs</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>home</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>HTML</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>RSS</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>JSON</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>languages</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>en</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>outputs</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>home</span>: [<span style=color:#ae81ff>HTML, RSS, JSON]</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>es</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>outputs</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>home</span>: [<span style=color:#ae81ff>HTML, RSS, JSON]</span>
</span></span></code></pre></div><p><strong>Build script</strong>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Build English index</span>
</span></span><span style=display:flex><span>php scripts/build-search-index.php public/en/search.db public/en/index.json
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Build Spanish index</span>
</span></span><span style=display:flex><span>php scripts/build-search-index.php public/es/search.db public/es/index.json
</span></span></code></pre></div><h3 id=performance-tuning>Performance Tuning</h3><h4 id=optimize-database>Optimize Database</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># After building, optimize database</span>
</span></span><span style=display:flex><span>sqlite3 public/search.db <span style=color:#e6db74>&#34;VACUUM;&#34;</span>
</span></span><span style=display:flex><span>sqlite3 public/search.db <span style=color:#e6db74>&#34;ANALYZE;&#34;</span>
</span></span></code></pre></div><h4 id=index-only-recent-content>Index Only Recent Content</h4><p>Limit indexing to recent pages:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-template data-lang=go-template><span style=display:flex><span><span style=color:#75715e>{{-</span> <span style=color:#a6e22e>$pages</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>where</span> <span style=color:#a6e22e>site</span><span style=color:#a6e22e>.RegularPages</span> <span style=color:#e6db74>&#34;Date&#34;</span> <span style=color:#e6db74>&#34;ge&#34;</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>now</span><span style=color:#a6e22e>.AddDate</span> <span style=color:#ae81ff>-2</span> <span style=color:#a6e22e>0</span> <span style=color:#a6e22e>0</span><span style=color:#f92672>)</span> <span style=color:#75715e>-}}</span>
</span></span></code></pre></div><h4 id=reduce-content-size>Reduce Content Size</h4><p>Strip HTML and limit content:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-template data-lang=go-template><span style=display:flex><span>&#34;content&#34;: <span style=color:#75715e>{{</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>truncate</span> <span style=color:#a6e22e>2000</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>plainify</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Content</span><span style=color:#f92672>))</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span></code></pre></div><h3 id=security-configuration>Security Configuration</h3><h4 id=rate-limiting-nginx>Rate Limiting (Nginx)</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nginx data-lang=nginx><span style=display:flex><span><span style=color:#66d9ef>limit_req_zone</span> $binary_remote_addr <span style=color:#e6db74>zone=search:10m</span> <span style=color:#e6db74>rate=10r/s</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>location</span> <span style=color:#e6db74>/api/search.php</span> {
</span></span><span style=display:flex><span>    <span style=color:#f92672>limit_req</span> <span style=color:#e6db74>zone=search</span> <span style=color:#e6db74>burst=20</span> <span style=color:#e6db74>nodelay</span>;
</span></span><span style=display:flex><span>    <span style=color:#f92672>fastcgi_pass</span> <span style=color:#e6db74>unix:/var/run/php/php7.4-fpm.sock</span>;
</span></span><span style=display:flex><span>    <span style=color:#f92672>include</span> <span style=color:#e6db74>fastcgi_params</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=input-validation>Input Validation</h4><p>The PHP API already validates inputs, but you can add stricter limits:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#75715e>// In search() method
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>$query <span style=color:#f92672>=</span> <span style=color:#a6e22e>trim</span>($_GET[<span style=color:#e6db74>&#39;q&#39;</span>] <span style=color:#f92672>??</span> <span style=color:#e6db74>&#39;&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>strlen</span>($query) <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>200</span>) {  <span style=color:#75715e>// Add maximum length
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>sendError</span>(<span style=color:#e6db74>&#39;Query too long&#39;</span>, <span style=color:#ae81ff>400</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=example-configurations>Example Configurations</h2><h3 id=personal-blog>Personal Blog</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># hugo.yaml</span>
</span></span><span style=display:flex><span><span style=color:#f92672>outputs</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>home</span>: [<span style=color:#ae81ff>HTML, RSS, JSON]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>params</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>search</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>sections</span>: [<span style=color:#ae81ff>posts] </span> <span style=color:#75715e># Only index posts</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>limit</span>: <span style=color:#ae81ff>10</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-template data-lang=go-template><span style=display:flex><span><span style=color:#75715e>{{/* layouts/_default/search-data.json */}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{-</span> <span style=color:#a6e22e>$pages</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>where</span> <span style=color:#a6e22e>site</span><span style=color:#a6e22e>.RegularPages</span> <span style=color:#e6db74>&#34;Section&#34;</span> <span style=color:#e6db74>&#34;posts&#34;</span> <span style=color:#75715e>-}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{-</span> <span style=color:#a6e22e>$pages</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>where</span> <span style=color:#a6e22e>$pages</span> <span style=color:#e6db74>&#34;Draft&#34;</span> <span style=color:#e6db74>&#34;!=&#34;</span> <span style=color:#66d9ef>true</span> <span style=color:#75715e>-}}</span>
</span></span><span style=display:flex><span>[...]
</span></span></code></pre></div><h3 id=documentation-site>Documentation Site</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># hugo.yaml - index all docs</span>
</span></span><span style=display:flex><span><span style=color:#f92672>outputs</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>home</span>: [<span style=color:#ae81ff>HTML, RSS, JSON]</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>section</span>: [<span style=color:#ae81ff>HTML, RSS]</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#75715e>// search.php - Higher results per page
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>private</span> $resultsPerPage <span style=color:#f92672>=</span> <span style=color:#ae81ff>50</span>;
</span></span></code></pre></div><h3 id=large-content-site>Large Content Site</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># build.sh - Optimize after build</span>
</span></span><span style=display:flex><span>php scripts/build-search-index.php public/search.db <span style=color:#e6db74>&#34;</span>$SEARCH_DATA_FILE<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;Optimizing database...&#34;</span>
</span></span><span style=display:flex><span>sqlite3 public/search.db <span style=color:#e6db74>&#34;VACUUM;&#34;</span>
</span></span><span style=display:flex><span>sqlite3 public/search.db <span style=color:#e6db74>&#34;ANALYZE;&#34;</span>
</span></span><span style=display:flex><span>sqlite3 public/search.db <span style=color:#e6db74>&#34;PRAGMA optimize;&#34;</span>
</span></span></code></pre></div><p>These configurations give you complete control over how Hugo SQLite Search works on your site.</p></main><footer><p>Copyright 2025. All rights reserved.</p></footer></body></html>