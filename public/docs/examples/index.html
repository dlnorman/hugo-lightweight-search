<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Examples | Lightweight Search Engine</title><link rel=stylesheet href=/hugo-lightweight-search/css/main.min.73be4799b2091d293b47b52ca2642fe82aa2b1c9c050e8d1b389a80939a30dd4.css integrity="sha256-c75HmbIJHSk7R7UsomQv6CqiscnAUOjRs4moCTmjDdQ=" crossorigin=anonymous><script src=/hugo-lightweight-search/js/main.23cd0c7d837263b9eaeb96ee2d9ccfa2969daa3fa00fa1c1fe8701a9b87251a1.js integrity="sha256-I80MfYNyY7nq65buLZzPopadqj+gD6HB/ocBqbhyUaE=" crossorigin=anonymous></script></head><body><header><h1>Lightweight Search Engine</h1><nav><ul><li><a href=/hugo-lightweight-search/>Home</a></li><li><a href=/hugo-lightweight-search/docs/>Documentation</a></li><li><a href=/hugo-lightweight-search/posts/>Blog</a></li><li><a href=/hugo-lightweight-search/pages/about/>About</a></li><li><a href=/hugo-lightweight-search/pages/search/>Search</a></li></ul></nav></header><main><h1>Examples</h1><time datetime=2025-10-06T00:00:00+00:00>October 6, 2025</time><h1 id=examples>Examples</h1><p>Real-world examples of implementing Hugo SQLite Search in various scenarios. All examples are based on the actual implementation from this project.</p><h2 id=hugo-integration-examples>Hugo Integration Examples</h2><h3 id=1-complete-working-search-page>1. Complete Working Search Page</h3><p>Create a search page with full-text search capabilities. First, create a content file at <code>content/search.md</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>---
</span></span><span style=display:flex><span>title: &#34;Search&#34;
</span></span><span style=display:flex><span>layout: &#34;search&#34;
</span></span><span style=display:flex><span>---
</span></span></code></pre></div><p>Then create the search page template at <code>layouts/page/search.html</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>{{ define &#34;main&#34; }}
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;search-container&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>h1</span>&gt;{{ .Title }}&lt;/<span style=color:#f92672>h1</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;search-form&#34;</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text&#34;</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;search-input&#34;</span> <span style=color:#a6e22e>placeholder</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Search...&#34;</span> <span style=color:#a6e22e>autocomplete</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;off&#34;</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>select</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;section-filter&#34;</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>option</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&#34;</span>&gt;All sections&lt;/<span style=color:#f92672>option</span>&gt;
</span></span><span style=display:flex><span>        &lt;/<span style=color:#f92672>select</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>select</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;sort-order&#34;</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>option</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;relevance&#34;</span>&gt;Sort by: Relevance&lt;/<span style=color:#f92672>option</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>option</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;date_desc&#34;</span>&gt;Sort by: Newest first&lt;/<span style=color:#f92672>option</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>option</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;date_asc&#34;</span>&gt;Sort by: Oldest first&lt;/<span style=color:#f92672>option</span>&gt;
</span></span><span style=display:flex><span>        &lt;/<span style=color:#f92672>select</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;search-button&#34;</span>&gt;Search&lt;/<span style=color:#f92672>button</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;search-loading&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;loading&#34;</span> <span style=color:#a6e22e>style</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;display: none;&#34;</span>&gt;
</span></span><span style=display:flex><span>        Searching...
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;search-results&#34;</span>&gt;&lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;search-pagination&#34;</span>&gt;&lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>HugoSearch</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>constructor</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>apiUrl</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;/api/search.php&#39;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>currentPage</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>currentQuery</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>initializeElements</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>bindEvents</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>loadSections</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>checkUrlParams</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>initializeElements</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>searchInput</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#39;search-input&#39;</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>sectionFilter</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#39;section-filter&#39;</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>sortOrder</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#39;sort-order&#39;</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>searchButton</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#39;search-button&#39;</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>searchLoading</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#39;search-loading&#39;</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>searchResults</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#39;search-results&#39;</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>searchPagination</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#39;search-pagination&#39;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>bindEvents</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>searchInput</span>.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#39;keyup&#39;</span>, (<span style=color:#a6e22e>e</span>) =&gt; {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>key</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;Enter&#39;</span>) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>performSearch</span>();
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>searchButton</span>.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#39;click&#39;</span>, () =&gt; {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>performSearch</span>();
</span></span><span style=display:flex><span>        });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>sectionFilter</span>.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#39;change&#39;</span>, () =&gt; {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>performSearch</span>();
</span></span><span style=display:flex><span>        });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>sortOrder</span>.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#39;change&#39;</span>, () =&gt; {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>performSearch</span>();
</span></span><span style=display:flex><span>        });
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>performSearch</span>(<span style=color:#a6e22e>page</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>query</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>searchInput</span>.<span style=color:#a6e22e>value</span>.<span style=color:#a6e22e>trim</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>section</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>sectionFilter</span>.<span style=color:#a6e22e>value</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>sort</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>sortOrder</span>.<span style=color:#a6e22e>value</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>query</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>2</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>searchResults</span>.<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&lt;div class=&#34;no-results&#34;&gt;Please enter at least 2 characters to search.&lt;/div&gt;&#39;</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>showLoading</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>params</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>URLSearchParams</span>({
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>q</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>query</span>,
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>page</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>page</span>.<span style=color:#a6e22e>toString</span>()
</span></span><span style=display:flex><span>            });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>section</span>) <span style=color:#a6e22e>params</span>.<span style=color:#a6e22e>append</span>(<span style=color:#e6db74>&#39;section&#39;</span>, <span style=color:#a6e22e>section</span>);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>sort</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>sort</span> <span style=color:#f92672>!==</span> <span style=color:#e6db74>&#39;relevance&#39;</span>) <span style=color:#a6e22e>params</span>.<span style=color:#a6e22e>append</span>(<span style=color:#e6db74>&#39;sort&#39;</span>, <span style=color:#a6e22e>sort</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>response</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>apiUrl</span><span style=color:#e6db74>}</span><span style=color:#e6db74>?</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>params</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>error</span>) <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> Error(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>error</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>displayResults</span>(<span style=color:#a6e22e>data</span>);
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#39;Search error:&#39;</span>, <span style=color:#a6e22e>error</span>);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>searchResults</span>.<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>`&lt;div class=&#34;no-results&#34;&gt;Search error: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>error</span>.<span style=color:#a6e22e>message</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&lt;/div&gt;`</span>;
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>finally</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>hideLoading</span>();
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>displayResults</span>(<span style=color:#a6e22e>data</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>results</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>searchResults</span>.<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&lt;div class=&#34;no-results&#34;&gt;No results found.&lt;/div&gt;&#39;</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>stats</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>`&lt;div class=&#34;search-stats&#34;&gt;Found </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>total</span><span style=color:#e6db74>}</span><span style=color:#e6db74> results (page </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>page</span><span style=color:#e6db74>}</span><span style=color:#e6db74> of </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>total_pages</span><span style=color:#e6db74>}</span><span style=color:#e6db74>)&lt;/div&gt;`</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>resultsHtml</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>results</span>.<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>result</span> =&gt; <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>renderResult</span>(<span style=color:#a6e22e>result</span>)).<span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#39;&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>searchResults</span>.<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>stats</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>resultsHtml</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>renderPagination</span>(<span style=color:#a6e22e>data</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>renderResult</span>(<span style=color:#a6e22e>result</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>tags</span> <span style=color:#f92672>=</span> Array.<span style=color:#a6e22e>isArray</span>(<span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>tags</span>) <span style=color:#f92672>?</span> <span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>tags</span> <span style=color:#f92672>:</span> [];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>tagsHtml</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>tags</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>?</span>
</span></span><span style=display:flex><span>            <span style=color:#e6db74>`&lt;div class=&#34;result-tags&#34;&gt;</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>tags</span>.<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>tag</span> =&gt; <span style=color:#e6db74>`&lt;span class=&#34;tag&#34;&gt;</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>tag</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&lt;/span&gt;`</span>).<span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#39;&#39;</span>)<span style=color:#e6db74>}</span><span style=color:#e6db74>&lt;/div&gt;`</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>`
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &lt;div class=&#34;search-result&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &lt;div class=&#34;result-title&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    &lt;a href=&#34;</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>url</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;&gt;</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>title_highlighted</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>title</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&lt;/a&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &lt;div class=&#34;result-meta&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>section</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>section</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39; â€¢ &#39;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;&#39;</span><span style=color:#e6db74>}${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>date</span><span style=color:#e6db74>}</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &lt;div class=&#34;result-summary&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>summary_highlighted</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>content_snippet</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>summary</span> <span style=color:#f92672>||</span> <span style=color:#e6db74>&#39;&#39;</span><span style=color:#e6db74>}</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>tagsHtml</span><span style=color:#e6db74>}</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        `</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>showLoading</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>searchLoading</span>.<span style=color:#a6e22e>style</span>.<span style=color:#a6e22e>display</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;block&#39;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>searchResults</span>.<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>hideLoading</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>searchLoading</span>.<span style=color:#a6e22e>style</span>.<span style=color:#a6e22e>display</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;none&#39;</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>loadSections</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>response</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>apiUrl</span><span style=color:#e6db74>}</span><span style=color:#e6db74>?action=sections`</span>);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>sections</span>) {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>sections</span>.<span style=color:#a6e22e>forEach</span>(<span style=color:#a6e22e>section</span> =&gt; {
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>option</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>createElement</span>(<span style=color:#e6db74>&#39;option&#39;</span>);
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>option</span>.<span style=color:#a6e22e>value</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>section</span>;
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>option</span>.<span style=color:#a6e22e>textContent</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>section</span>.<span style=color:#a6e22e>charAt</span>(<span style=color:#ae81ff>0</span>).<span style=color:#a6e22e>toUpperCase</span>() <span style=color:#f92672>+</span> <span style=color:#a6e22e>section</span>.<span style=color:#a6e22e>slice</span>(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>sectionFilter</span>.<span style=color:#a6e22e>appendChild</span>(<span style=color:#a6e22e>option</span>);
</span></span><span style=display:flex><span>                });
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#39;Error loading sections:&#39;</span>, <span style=color:#a6e22e>error</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>checkUrlParams</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>params</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>URLSearchParams</span>(window.<span style=color:#a6e22e>location</span>.<span style=color:#a6e22e>search</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>query</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>params</span>.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;q&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>query</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>searchInput</span>.<span style=color:#a6e22e>value</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>query</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>performSearch</span>();
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Initialize search when page loads
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>search</span>;
</span></span><span style=display:flex><span>document.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#39;DOMContentLoaded&#39;</span>, () =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>search</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>HugoSearch</span>();
</span></span><span style=display:flex><span>});
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span>{{ end }}
</span></span></code></pre></div><h3 id=2-adding-search-to-site-navigation>2. Adding Search to Site Navigation</h3><p>Update your Hugo config (<code>hugo.yaml</code>) to add search to the main menu:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>menu</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>main</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>identifier</span>: <span style=color:#ae81ff>search</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Search</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>url</span>: <span style=color:#ae81ff>/search/</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>weight</span>: <span style=color:#ae81ff>50</span>
</span></span></code></pre></div><h3 id=3-customizing-the-search-ui>3. Customizing the Search UI</h3><p>Add custom CSS to style your search interface. Add this to your site&rsquo;s custom CSS:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>.<span style=color:#a6e22e>search-container</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>max-width</span>: <span style=color:#ae81ff>800</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin</span>: <span style=color:#ae81ff>0</span> <span style=color:#66d9ef>auto</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>padding</span>: <span style=color:#ae81ff>20</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>search-form</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>display</span>: <span style=color:#66d9ef>flex</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>gap</span>: <span style=color:#ae81ff>10</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin-bottom</span>: <span style=color:#ae81ff>30</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>flex-wrap</span>: <span style=color:#66d9ef>wrap</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>#search-input {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>flex</span>: <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>min-width</span>: <span style=color:#ae81ff>300</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>padding</span>: <span style=color:#ae81ff>12</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>border</span>: <span style=color:#ae81ff>1</span><span style=color:#66d9ef>px</span> <span style=color:#66d9ef>solid</span> <span style=color:#ae81ff>#ddd</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>border-radius</span>: <span style=color:#ae81ff>4</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>font-size</span>: <span style=color:#ae81ff>16</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>search-result</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>border-bottom</span>: <span style=color:#ae81ff>1</span><span style=color:#66d9ef>px</span> <span style=color:#66d9ef>solid</span> <span style=color:#ae81ff>#eee</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>padding</span>: <span style=color:#ae81ff>20</span><span style=color:#66d9ef>px</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>result-title</span> <span style=color:#f92672>a</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>color</span>: <span style=color:#ae81ff>#1a73e8</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>text-decoration</span>: <span style=color:#66d9ef>none</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>font-size</span>: <span style=color:#ae81ff>20</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>result-title</span> <span style=color:#f92672>a</span>:<span style=color:#a6e22e>hover</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>text-decoration</span>: <span style=color:#66d9ef>underline</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>result-meta</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>color</span>: <span style=color:#ae81ff>#666</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>font-size</span>: <span style=color:#ae81ff>14</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin</span>: <span style=color:#ae81ff>5</span><span style=color:#66d9ef>px</span> <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>10</span><span style=color:#66d9ef>px</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>mark</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background-color</span>: <span style=color:#ae81ff>#ffeb3b</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>padding</span>: <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>2</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>border-radius</span>: <span style=color:#ae81ff>2</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=4-excluding-specific-pages-from-search>4. Excluding Specific Pages from Search</h3><p>Exclude pages from the search index by setting front matter:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>---
</span></span><span style=display:flex><span><span style=color:#f92672>title</span>: <span style=color:#e6db74>&#34;Private Page&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>search</span>: <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>---
</span></span></code></pre></div><p>Or modify the search data template at <code>layouts/_default/search-data.json</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{-</span> <span style=color:#a6e22e>$pages</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>where</span> <span style=color:#a6e22e>site</span><span style=color:#a6e22e>.RegularPages</span> <span style=color:#e6db74>&#34;Type&#34;</span> <span style=color:#e6db74>&#34;!=&#34;</span> <span style=color:#e6db74>&#34;page&#34;</span> <span style=color:#75715e>-}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{-</span> <span style=color:#a6e22e>$pages</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>where</span> <span style=color:#a6e22e>$pages</span> <span style=color:#e6db74>&#34;Draft&#34;</span> <span style=color:#e6db74>&#34;!=&#34;</span> <span style=color:#66d9ef>true</span> <span style=color:#75715e>-}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{-</span> <span style=color:#a6e22e>$pages</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>where</span> <span style=color:#a6e22e>$pages</span> <span style=color:#e6db74>&#34;Params.search&#34;</span> <span style=color:#e6db74>&#34;!=&#34;</span> <span style=color:#66d9ef>false</span> <span style=color:#75715e>-}}</span>
</span></span><span style=display:flex><span>[
</span></span><span style=display:flex><span><span style=color:#75715e>{{-</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>$index</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>$page</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>$pages</span> <span style=color:#75715e>-}}</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>{{-</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>$index</span> <span style=color:#75715e>}}</span>,<span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    &#34;id&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.File.UniqueID</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;title&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Title</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;url&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Permalink</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;content&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Plain</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;summary&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Summary</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;date&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Date.Format</span> <span style=color:#e6db74>&#34;2006-01-02&#34;</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;section&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Section</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;tags&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Params.tags</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;categories&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Params.categories</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span><span style=color:#75715e>{{-</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>-}}</span>
</span></span><span style=display:flex><span>]
</span></span></code></pre></div><h2 id=javascript-client-examples>JavaScript Client Examples</h2><h3 id=1-basic-search-implementation>1. Basic Search Implementation</h3><p>Simple search with vanilla JavaScript:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>search</span>(<span style=color:#a6e22e>query</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>response</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>`/api/search.php?q=</span><span style=color:#e6db74>${</span>encodeURIComponent(<span style=color:#a6e22e>query</span>)<span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>results</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Usage
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>search</span>(<span style=color:#e6db74>&#39;hugo&#39;</span>).<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>results</span> =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Found </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>results</span>.<span style=color:#a6e22e>length</span><span style=color:#e6db74>}</span><span style=color:#e6db74> results`</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>results</span>.<span style=color:#a6e22e>forEach</span>(<span style=color:#a6e22e>result</span> =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`- </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>title</span><span style=color:#e6db74>}</span><span style=color:#e6db74>: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>url</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>});
</span></span></code></pre></div><h3 id=2-advanced-search-with-filters>2. Advanced Search with Filters</h3><p>Search with section filtering and custom sorting:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>advancedSearch</span>(<span style=color:#a6e22e>query</span>, <span style=color:#a6e22e>options</span> <span style=color:#f92672>=</span> {}) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>params</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>URLSearchParams</span>({
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>q</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>query</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>page</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>options</span>.<span style=color:#a6e22e>page</span> <span style=color:#f92672>||</span> <span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>limit</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>options</span>.<span style=color:#a6e22e>limit</span> <span style=color:#f92672>||</span> <span style=color:#ae81ff>20</span>
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>options</span>.<span style=color:#a6e22e>section</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>params</span>.<span style=color:#a6e22e>append</span>(<span style=color:#e6db74>&#39;section&#39;</span>, <span style=color:#a6e22e>options</span>.<span style=color:#a6e22e>section</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>options</span>.<span style=color:#a6e22e>sort</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>params</span>.<span style=color:#a6e22e>append</span>(<span style=color:#e6db74>&#39;sort&#39;</span>, <span style=color:#a6e22e>options</span>.<span style=color:#a6e22e>sort</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>response</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>`/api/search.php?</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>params</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> Error(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>error</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>data</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Usage examples
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>advancedSearch</span>(<span style=color:#e6db74>&#39;hugo&#39;</span>, {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>section</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;docs&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>sort</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;date_desc&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>page</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>}).<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>data</span> =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Found </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>total</span><span style=color:#e6db74>}</span><span style=color:#e6db74> results in docs section`</span>);
</span></span><span style=display:flex><span>});
</span></span></code></pre></div><h3 id=3-autocompletesearch-as-you-type>3. Autocomplete/Search-as-You-Type</h3><p>Implement live search with debouncing:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>LiveSearch</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>constructor</span>(<span style=color:#a6e22e>inputElement</span>, <span style=color:#a6e22e>resultsElement</span>, <span style=color:#a6e22e>apiUrl</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;/api/search.php&#39;</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>input</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>inputElement</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>results</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>resultsElement</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>apiUrl</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>apiUrl</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>debounceTimer</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>input</span>.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#39;input&#39;</span>, (<span style=color:#a6e22e>e</span>) =&gt; <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>handleInput</span>(<span style=color:#a6e22e>e</span>));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>handleInput</span>(<span style=color:#a6e22e>e</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>clearTimeout</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>debounceTimer</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>query</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>target</span>.<span style=color:#a6e22e>value</span>.<span style=color:#a6e22e>trim</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>2</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>results</span>.<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Debounce: wait 300ms after user stops typing
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>debounceTimer</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>setTimeout</span>(() =&gt; {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>performSearch</span>(<span style=color:#a6e22e>query</span>);
</span></span><span style=display:flex><span>        }, <span style=color:#ae81ff>300</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>performSearch</span>(<span style=color:#a6e22e>query</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>response</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>apiUrl</span><span style=color:#e6db74>}</span><span style=color:#e6db74>?q=</span><span style=color:#e6db74>${</span>encodeURIComponent(<span style=color:#a6e22e>query</span>)<span style=color:#e6db74>}</span><span style=color:#e6db74>&amp;limit=5`</span>);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>displayResults</span>(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>results</span>);
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#39;Search error:&#39;</span>, <span style=color:#a6e22e>error</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>displayResults</span>(<span style=color:#a6e22e>results</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>results</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>results</span>.<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&lt;div class=&#34;no-results&#34;&gt;No results found&lt;/div&gt;&#39;</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>results</span>.<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>results</span>.<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>result</span> =&gt; <span style=color:#e6db74>`
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &lt;a href=&#34;</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>url</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&#34; class=&#34;autocomplete-item&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &lt;div class=&#34;title&#34;&gt;</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>title_highlighted</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>title</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &lt;div class=&#34;section&#34;&gt;</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>section</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &lt;/a&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        `</span>).<span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#39;&#39;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Initialize
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>searchInput</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#39;search-input&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>searchResults</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#39;search-results&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>liveSearch</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>LiveSearch</span>(<span style=color:#a6e22e>searchInput</span>, <span style=color:#a6e22e>searchResults</span>);
</span></span></code></pre></div><h3 id=4-result-highlighting-and-snippets>4. Result Highlighting and Snippets</h3><p>The API automatically provides highlighted snippets. Display them:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>renderSearchResult</span>(<span style=color:#a6e22e>result</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#e6db74>`
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &lt;div class=&#34;search-result&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &lt;h3&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &lt;a href=&#34;</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>url</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>title_highlighted</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>title</span><span style=color:#e6db74>}</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &lt;/a&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &lt;/h3&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &lt;div class=&#34;result-snippet&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>content_snippet</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>summary_highlighted</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>summary</span><span style=color:#e6db74>}</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &lt;div class=&#34;result-meta&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &lt;span class=&#34;section&#34;&gt;</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>section</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&lt;/span&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &lt;span class=&#34;date&#34;&gt;</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>date</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&lt;/span&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &lt;span class=&#34;score&#34;&gt;Relevance: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>relevance_score</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&lt;/span&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>tags</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>tags</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>`
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &lt;div class=&#34;tags&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>tags</span>.<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>tag</span> =&gt; <span style=color:#e6db74>`&lt;span class=&#34;tag&#34;&gt;</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>tag</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&lt;/span&gt;`</span>).<span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#39;&#39;</span>)<span style=color:#e6db74>}</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            `</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;&#39;</span><span style=color:#e6db74>}</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    `</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=5-pagination-implementation>5. Pagination Implementation</h3><p>Complete pagination with page numbers:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>renderPagination</span>(<span style=color:#a6e22e>data</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> { <span style=color:#a6e22e>page</span>, <span style=color:#a6e22e>total_pages</span> } <span style=color:#f92672>=</span> <span style=color:#a6e22e>data</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>total_pages</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#39;&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>html</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&lt;div class=&#34;pagination&#34;&gt;&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Previous button
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>page</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>html</span> <span style=color:#f92672>+=</span> <span style=color:#e6db74>`&lt;button onclick=&#34;goToPage(</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>page</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span><span style=color:#e6db74>}</span><span style=color:#e6db74>)&#34;&gt;Previous&lt;/button&gt;`</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Page numbers
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>startPage</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>max</span>(<span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>page</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>endPage</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>total_pages</span>, <span style=color:#a6e22e>page</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>startPage</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>html</span> <span style=color:#f92672>+=</span> <span style=color:#e6db74>`&lt;button onclick=&#34;goToPage(1)&#34;&gt;1&lt;/button&gt;`</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>startPage</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>2</span>) <span style=color:#a6e22e>html</span> <span style=color:#f92672>+=</span> <span style=color:#e6db74>&#39;&lt;span&gt;...&lt;/span&gt;&#39;</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>startPage</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>endPage</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>active</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>page</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#39; class=&#34;active&#34;&#39;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;&#39;</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>html</span> <span style=color:#f92672>+=</span> <span style=color:#e6db74>`&lt;button</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>active</span><span style=color:#e6db74>}</span><span style=color:#e6db74> onclick=&#34;goToPage(</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>i</span><span style=color:#e6db74>}</span><span style=color:#e6db74>)&#34;&gt;</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>i</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&lt;/button&gt;`</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>endPage</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>total_pages</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>endPage</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>total_pages</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#a6e22e>html</span> <span style=color:#f92672>+=</span> <span style=color:#e6db74>&#39;&lt;span&gt;...&lt;/span&gt;&#39;</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>html</span> <span style=color:#f92672>+=</span> <span style=color:#e6db74>`&lt;button onclick=&#34;goToPage(</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>total_pages</span><span style=color:#e6db74>}</span><span style=color:#e6db74>)&#34;&gt;</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>total_pages</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&lt;/button&gt;`</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Next button
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>page</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>total_pages</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>html</span> <span style=color:#f92672>+=</span> <span style=color:#e6db74>`&lt;button onclick=&#34;goToPage(</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>page</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span><span style=color:#e6db74>}</span><span style=color:#e6db74>)&#34;&gt;Next&lt;/button&gt;`</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>html</span> <span style=color:#f92672>+=</span> <span style=color:#e6db74>&#39;&lt;/div&gt;&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>html</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>goToPage</span>(<span style=color:#a6e22e>page</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>query</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#39;search-input&#39;</span>).<span style=color:#a6e22e>value</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>performSearch</span>(<span style=color:#a6e22e>query</span>, <span style=color:#a6e22e>page</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=php-api-usage-examples>PHP API Usage Examples</h2><h3 id=1-direct-api-calls-with-curl>1. Direct API Calls with curl</h3><p>Test the search API from the command line:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Basic search</span>
</span></span><span style=display:flex><span>curl <span style=color:#e6db74>&#34;http://localhost/api/search.php?q=hugo&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Search with filters</span>
</span></span><span style=display:flex><span>curl <span style=color:#e6db74>&#34;http://localhost/api/search.php?q=search&amp;section=docs&amp;sort=date_desc&amp;page=1&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Get available sections</span>
</span></span><span style=display:flex><span>curl <span style=color:#e6db74>&#34;http://localhost/api/search.php?action=sections&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Advanced query syntax</span>
</span></span><span style=display:flex><span>curl <span style=color:#e6db74>&#34;http://localhost/api/search.php?q=title:configuration+after:2024-01-01&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Phrase search</span>
</span></span><span style=display:flex><span>curl <span style=color:#e6db74>&#34;http://localhost/api/search.php?q=\&#34;search+engine\&#34;&#34;</span>
</span></span></code></pre></div><h3 id=2-fetch-api-examples>2. Fetch API Examples</h3><p>Modern JavaScript fetch requests:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// Basic search
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>&#39;/api/search.php?q=hugo&#39;</span>)
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>response</span> =&gt; <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>())
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>data</span> =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;Results:&#39;</span>, <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>results</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;Total:&#39;</span>, <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>total</span>);
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Search with all options
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>searchParams</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>q</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;sqlite search&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>section</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;docs&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>sort</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;relevance&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>page</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>limit</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>queryString</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>URLSearchParams</span>(<span style=color:#a6e22e>searchParams</span>).<span style=color:#a6e22e>toString</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>`/api/search.php?</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>queryString</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>)
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>response</span> =&gt; <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>())
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>data</span> =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Found </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>total</span><span style=color:#e6db74>}</span><span style=color:#e6db74> results`</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Page </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>page</span><span style=color:#e6db74>}</span><span style=color:#e6db74> of </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>total_pages</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>results</span>.<span style=color:#a6e22e>forEach</span>(<span style=color:#a6e22e>result</span> =&gt; {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>title</span><span style=color:#e6db74>}</span><span style=color:#e6db74> - </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>url</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>        });
</span></span><span style=display:flex><span>    })
</span></span><span style=display:flex><span>    .<span style=color:#66d9ef>catch</span>(<span style=color:#a6e22e>error</span> =&gt; <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#39;Error:&#39;</span>, <span style=color:#a6e22e>error</span>));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Get sections
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>&#39;/api/search.php?action=sections&#39;</span>)
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>response</span> =&gt; <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>())
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>data</span> =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;Available sections:&#39;</span>, <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>sections</span>);
</span></span><span style=display:flex><span>    });
</span></span></code></pre></div><h3 id=3-advanced-query-syntax-examples>3. Advanced Query Syntax Examples</h3><p>The search API supports powerful query syntax:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// Field-specific searches
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>&#39;/api/search.php?q=title:hugo&#39;</span>)  <span style=color:#75715e>// Search in title only
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>&#39;/api/search.php?q=tags:tutorial&#39;</span>)  <span style=color:#75715e>// Search in tags
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>&#39;/api/search.php?q=categories:development&#39;</span>)  <span style=color:#75715e>// Search in categories
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Date range filters
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>&#39;/api/search.php?q=hugo after:2024-01-01&#39;</span>)  <span style=color:#75715e>// Posts after date
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>&#39;/api/search.php?q=tutorial before:2024-12-31&#39;</span>)  <span style=color:#75715e>// Posts before date
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>&#39;/api/search.php?q=search after:2024-01-01 before:2024-06-30&#39;</span>)  <span style=color:#75715e>// Date range
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Boolean operators
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>&#39;/api/search.php?q=hugo OR jekyll&#39;</span>)  <span style=color:#75715e>// Either term
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>&#39;/api/search.php?q=search engine&#39;</span>)  <span style=color:#75715e>// Both terms (AND is default)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Phrase search
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>&#39;/api/search.php?q=&#34;static site generator&#34;&#39;</span>)  <span style=color:#75715e>// Exact phrase
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Complex queries
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>&#39;/api/search.php?q=title:configuration category:hugo after:2024-01-01&#39;</span>)
</span></span></code></pre></div><h3 id=4-error-handling>4. Error Handling</h3><p>Implement robust error handling:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>searchWithErrorHandling</span>(<span style=color:#a6e22e>query</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>response</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>`/api/search.php?q=</span><span style=color:#e6db74>${</span>encodeURIComponent(<span style=color:#a6e22e>query</span>)<span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Check HTTP status
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>ok</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> Error(<span style=color:#e6db74>`HTTP error! status: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>status</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Check for API errors
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> Error(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>error</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Validate response structure
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>results</span> <span style=color:#f92672>||</span> <span style=color:#f92672>!</span>Array.<span style=color:#a6e22e>isArray</span>(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>results</span>)) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> Error(<span style=color:#e6db74>&#39;Invalid response format&#39;</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>data</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#39;Search failed:&#39;</span>, <span style=color:#a6e22e>error</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Display user-friendly error message
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>error</span>.<span style=color:#a6e22e>message</span>.<span style=color:#a6e22e>includes</span>(<span style=color:#e6db74>&#39;NetworkError&#39;</span>) <span style=color:#f92672>||</span> <span style=color:#a6e22e>error</span>.<span style=color:#a6e22e>message</span>.<span style=color:#a6e22e>includes</span>(<span style=color:#e6db74>&#39;Failed to fetch&#39;</span>)) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> { <span style=color:#a6e22e>error</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Unable to connect to search service. Please check your internet connection.&#39;</span> };
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>error</span>.<span style=color:#a6e22e>message</span>.<span style=color:#a6e22e>includes</span>(<span style=color:#e6db74>&#39;timeout&#39;</span>)) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> { <span style=color:#a6e22e>error</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Search request timed out. Please try again.&#39;</span> };
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> { <span style=color:#a6e22e>error</span><span style=color:#f92672>:</span> <span style=color:#e6db74>`Search error: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>error</span>.<span style=color:#a6e22e>message</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span> };
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=advanced-use-cases>Advanced Use Cases</h2><h3 id=1-multi-language-search>1. Multi-language Search</h3><p>Configure Hugo for multi-language support:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># hugo.yaml</span>
</span></span><span style=display:flex><span><span style=color:#f92672>languages</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>en</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>languageName</span>: <span style=color:#ae81ff>English</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>weight</span>: <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>es</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>languageName</span>: <span style=color:#ae81ff>EspaÃ±ol</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>weight</span>: <span style=color:#ae81ff>2</span>
</span></span></code></pre></div><p>Create language-specific search data templates:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{- /* layouts/_default/search-data.json */ -}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{-</span> <span style=color:#a6e22e>$pages</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>where</span> <span style=color:#a6e22e>site</span><span style=color:#a6e22e>.RegularPages</span> <span style=color:#e6db74>&#34;Type&#34;</span> <span style=color:#e6db74>&#34;!=&#34;</span> <span style=color:#e6db74>&#34;page&#34;</span> <span style=color:#75715e>-}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{-</span> <span style=color:#a6e22e>$pages</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>where</span> <span style=color:#a6e22e>$pages</span> <span style=color:#e6db74>&#34;Draft&#34;</span> <span style=color:#e6db74>&#34;!=&#34;</span> <span style=color:#66d9ef>true</span> <span style=color:#75715e>-}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{-</span> <span style=color:#a6e22e>$pages</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>where</span> <span style=color:#a6e22e>$pages</span> <span style=color:#e6db74>&#34;Lang&#34;</span> <span style=color:#a6e22e>site</span><span style=color:#a6e22e>.Language.Lang</span> <span style=color:#75715e>-}}</span>
</span></span><span style=display:flex><span>[
</span></span><span style=display:flex><span><span style=color:#75715e>{{-</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>$index</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>$page</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>$pages</span> <span style=color:#75715e>-}}</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>{{-</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>$index</span> <span style=color:#75715e>}}</span>,<span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    &#34;id&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.File.UniqueID</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;title&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Title</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;url&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Permalink</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;content&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Plain</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;summary&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Summary</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;date&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Date.Format</span> <span style=color:#e6db74>&#34;2006-01-02&#34;</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;section&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Section</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;language&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Lang</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;tags&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Params.tags</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;categories&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Params.categories</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span><span style=color:#75715e>{{-</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>-}}</span>
</span></span><span style=display:flex><span>]
</span></span></code></pre></div><h3 id=2-section-specific-search-pages>2. Section-Specific Search Pages</h3><p>Create dedicated search pages for specific sections:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>---
</span></span><span style=display:flex><span>title: &#34;Search Documentation&#34;
</span></span><span style=display:flex><span>layout: &#34;search&#34;
</span></span><span style=display:flex><span>params:
</span></span><span style=display:flex><span>  searchSection: &#34;docs&#34;
</span></span><span style=display:flex><span>---
</span></span></code></pre></div><p>Modify the search JavaScript to filter by section:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>constructor</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>apiUrl</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;/api/search.php&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Get section from page params if set
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>defaultSection</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>querySelector</span>(<span style=color:#e6db74>&#39;meta[name=&#34;search-section&#34;]&#39;</span>)<span style=color:#f92672>?</span>.<span style=color:#a6e22e>content</span> <span style=color:#f92672>||</span> <span style=color:#e6db74>&#39;&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>async</span> <span style=color:#a6e22e>performSearch</span>(<span style=color:#a6e22e>page</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>section</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>defaultSection</span> <span style=color:#f92672>||</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>sectionFilter</span>.<span style=color:#a6e22e>value</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>params</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>URLSearchParams</span>({
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>q</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>query</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>page</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>page</span>.<span style=color:#a6e22e>toString</span>()
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>section</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>params</span>.<span style=color:#a6e22e>append</span>(<span style=color:#e6db74>&#39;section&#39;</span>, <span style=color:#a6e22e>section</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><h3 id=3-search-analyticslogging>3. Search Analytics/Logging</h3><p>Track search queries for analytics:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Add to search.php before performing search
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Log search query
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>logSearch</span>($query, $results_count) {
</span></span><span style=display:flex><span>    $log_file <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;../logs/search.log&#39;</span>;
</span></span><span style=display:flex><span>    $timestamp <span style=color:#f92672>=</span> <span style=color:#a6e22e>date</span>(<span style=color:#e6db74>&#39;Y-m-d H:i:s&#39;</span>);
</span></span><span style=display:flex><span>    $ip <span style=color:#f92672>=</span> $_SERVER[<span style=color:#e6db74>&#39;REMOTE_ADDR&#39;</span>] <span style=color:#f92672>??</span> <span style=color:#e6db74>&#39;unknown&#39;</span>;
</span></span><span style=display:flex><span>    $user_agent <span style=color:#f92672>=</span> $_SERVER[<span style=color:#e6db74>&#39;HTTP_USER_AGENT&#39;</span>] <span style=color:#f92672>??</span> <span style=color:#e6db74>&#39;unknown&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    $log_entry <span style=color:#f92672>=</span> <span style=color:#a6e22e>sprintf</span>(
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;[%s] IP: %s | Query: %s | Results: %d | UA: %s</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>,
</span></span><span style=display:flex><span>        $timestamp,
</span></span><span style=display:flex><span>        $ip,
</span></span><span style=display:flex><span>        $query,
</span></span><span style=display:flex><span>        $results_count,
</span></span><span style=display:flex><span>        $user_agent
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>file_put_contents</span>($log_file, $log_entry, <span style=color:#a6e22e>FILE_APPEND</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>LOCK_EX</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Call after search
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>$results <span style=color:#f92672>=</span> $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>performSearch</span>($pdo, $query, $page, $limit, $section, $sort);
</span></span><span style=display:flex><span><span style=color:#a6e22e>logSearch</span>($query, $results[<span style=color:#e6db74>&#39;total&#39;</span>]);
</span></span><span style=display:flex><span><span style=color:#75715e>?&gt;</span><span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><p>JavaScript tracking:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// Track searches with analytics
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>performSearch</span>(<span style=color:#a6e22e>query</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>search</span>(<span style=color:#a6e22e>query</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Track with Google Analytics
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#66d9ef>typeof</span> <span style=color:#a6e22e>gtag</span> <span style=color:#f92672>!==</span> <span style=color:#e6db74>&#39;undefined&#39;</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>gtag</span>(<span style=color:#e6db74>&#39;event&#39;</span>, <span style=color:#e6db74>&#39;search&#39;</span>, {
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;search_term&#39;</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>query</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;results_count&#39;</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>total</span>
</span></span><span style=display:flex><span>        });
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Track with custom analytics
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>&#39;/api/analytics.php&#39;</span>, {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>method</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;POST&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>headers</span><span style=color:#f92672>:</span> { <span style=color:#e6db74>&#39;Content-Type&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;application/json&#39;</span> },
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>body</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>stringify</span>({
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>event</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;search&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>query</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>query</span>,
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>results</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>total</span>,
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>timestamp</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>new</span> Date().<span style=color:#a6e22e>toISOString</span>()
</span></span><span style=display:flex><span>        })
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>data</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=4-custom-ranking-algorithms>4. Custom Ranking Algorithms</h3><p>Modify the search API to implement custom ranking:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#75715e>// In search.php, modify the ORDER BY clause
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>switch</span> ($sort) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;custom_rank&#39;</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>        $sql <span style=color:#f92672>.=</span> <span style=color:#e6db74>&#34; ORDER BY
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    CASE
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                        -- Boost exact title matches
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                        WHEN c.title = :exact_match THEN 1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                        -- Boost recent posts in certain sections
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                        WHEN c.section = &#39;blog&#39; AND c.date &gt; DATE(&#39;now&#39;, &#39;-30 days&#39;) THEN 2
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                        -- Boost posts with specific tags
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                        WHEN c.tags LIKE &#39;%featured%&#39; THEN 3
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                        ELSE 4
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    END,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    bm25(f.search_fts),
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    c.date DESC&#34;</span>;
</span></span><span style=display:flex><span>        $params[<span style=color:#e6db74>&#39;exact_match&#39;</span>] <span style=color:#f92672>=</span> $parsedQuery[<span style=color:#e6db74>&#39;terms&#39;</span>][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>??</span> <span style=color:#e6db74>&#39;&#39;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=deployment-examples>Deployment Examples</h2><h3 id=1-github-actions-cicd>1. GitHub Actions CI/CD</h3><p>Create <code>.github/workflows/deploy.yml</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>name</span>: <span style=color:#ae81ff>Deploy Hugo Site with Search</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>on</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>push</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>branches</span>: [ <span style=color:#ae81ff>main ]</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>workflow_dispatch</span>:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>deploy</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>runs-on</span>: <span style=color:#ae81ff>ubuntu-latest</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>steps</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Checkout code</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/checkout@v3</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Setup Hugo</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>peaceiris/actions-hugo@v2</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>hugo-version</span>: <span style=color:#e6db74>&#39;latest&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>extended</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Setup PHP</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>shivammathur/setup-php@v2</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>php-version</span>: <span style=color:#e6db74>&#39;8.1&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>extensions</span>: <span style=color:#ae81ff>pdo, sqlite3</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Build Hugo site</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>run</span>: <span style=color:#ae81ff>hugo --minify</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Build search index</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        php scripts/build-search-index.php public/search.db public/search-data/index.json</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Deploy to hosting</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        # Copy public/ directory to your hosting
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        rsync -avz --delete public/ user@yourserver.com:/var/www/html/</span>
</span></span></code></pre></div><h3 id=2-netlify-deployment>2. Netlify Deployment</h3><p>Since Netlify doesn&rsquo;t support PHP, use a serverless function alternative or static search.</p><p>Create <code>netlify.toml</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[<span style=color:#a6e22e>build</span>]
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>command</span> = <span style=color:#e6db74>&#34;hugo --minify &amp;&amp; npm run build-search&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>publish</span> = <span style=color:#e6db74>&#34;public&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[[<span style=color:#a6e22e>redirects</span>]]
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>from</span> = <span style=color:#e6db74>&#34;/api/search.php&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>to</span> = <span style=color:#e6db74>&#34;/.netlify/functions/search&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>status</span> = <span style=color:#ae81ff>200</span>
</span></span></code></pre></div><p>Create a Netlify function at <code>netlify/functions/search.js</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// Note: This requires porting the PHP search logic to Node.js
</span></span></span><span style=display:flex><span><span style=color:#75715e>// or using a different search solution for serverless deployments
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>Database</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;better-sqlite3&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>exports</span>.<span style=color:#a6e22e>handler</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>async</span> (<span style=color:#a6e22e>event</span>) =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>query</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>event</span>.<span style=color:#a6e22e>queryStringParameters</span>.<span style=color:#a6e22e>q</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>page</span> <span style=color:#f92672>=</span> parseInt(<span style=color:#a6e22e>event</span>.<span style=color:#a6e22e>queryStringParameters</span>.<span style=color:#a6e22e>page</span> <span style=color:#f92672>||</span> <span style=color:#e6db74>&#39;1&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>db</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Database</span>(<span style=color:#e6db74>&#39;./public/search.db&#39;</span>, { <span style=color:#a6e22e>readonly</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span> });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Implement search logic similar to PHP version
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>stmt</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>db</span>.<span style=color:#a6e22e>prepare</span>(<span style=color:#e6db74>`
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        SELECT * FROM search_content c
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        JOIN search_fts f ON c.rowid = f.rowid
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        WHERE f.search_fts MATCH ?
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        LIMIT 20 OFFSET ?
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    `</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>results</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>stmt</span>.<span style=color:#a6e22e>all</span>(<span style=color:#a6e22e>query</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;*&#39;</span>, (<span style=color:#a6e22e>page</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>20</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>statusCode</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>200</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>headers</span><span style=color:#f92672>:</span> { <span style=color:#e6db74>&#39;Content-Type&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;application/json&#39;</span> },
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>body</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>stringify</span>({ <span style=color:#a6e22e>results</span> })
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=3-traditional-hosting-deployment>3. Traditional Hosting Deployment</h3><p>Deploy to traditional PHP hosting:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e># deploy.sh</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Build Hugo site</span>
</span></span><span style=display:flex><span>hugo --minify
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Build search index</span>
</span></span><span style=display:flex><span>php scripts/build-search-index.php public/search.db public/search-data/index.json
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Set permissions</span>
</span></span><span style=display:flex><span>chmod <span style=color:#ae81ff>644</span> public/search.db
</span></span><span style=display:flex><span>chmod <span style=color:#ae81ff>755</span> public/api
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Deploy via FTP/SFTP</span>
</span></span><span style=display:flex><span>lftp -e <span style=color:#e6db74>&#34;mirror -R public/ /public_html/; quit&#34;</span> -u username,password ftp.yourhost.com
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Or via rsync</span>
</span></span><span style=display:flex><span>rsync -avz --delete <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --exclude<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;.git&#39;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --exclude<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;node_modules&#39;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    public/ user@yourserver.com:/var/www/html/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;Deployment complete!&#34;</span>
</span></span></code></pre></div><h3 id=4-docker-deployment>4. Docker Deployment</h3><p>Create <code>Dockerfile</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dockerfile data-lang=dockerfile><span style=display:flex><span><span style=color:#66d9ef>FROM</span> <span style=color:#e6db74>php:8.1-apache</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Install required PHP extensions</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> apt-get update <span style=color:#f92672>&amp;&amp;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    apt-get install -y libsqlite3-dev <span style=color:#f92672>&amp;&amp;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    docker-php-ext-install pdo pdo_sqlite<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Copy Hugo built site</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>COPY</span> public/ /var/www/html/<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Copy search database</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>COPY</span> public/search.db /var/www/html/search.db<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Set permissions</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> chown -R www-data:www-data /var/www/html/ <span style=color:#f92672>&amp;&amp;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    chmod <span style=color:#ae81ff>644</span> /var/www/html/search.db<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Enable Apache modules</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> a2enmod rewrite<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>EXPOSE</span> <span style=color:#e6db74>80</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>CMD</span> [<span style=color:#e6db74>&#34;apache2-foreground&#34;</span>]<span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><p>Build and run:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Build the site</span>
</span></span><span style=display:flex><span>hugo --minify
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Build search index</span>
</span></span><span style=display:flex><span>php scripts/build-search-index.php public/search.db public/search-data/index.json
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Build Docker image</span>
</span></span><span style=display:flex><span>docker build -t hugo-search-site .
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Run container</span>
</span></span><span style=display:flex><span>docker run -d -p 8080:80 hugo-search-site
</span></span></code></pre></div><p>With docker-compose (<code>docker-compose.yml</code>):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>version</span>: <span style=color:#e6db74>&#39;3.8&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>services</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>web</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>build</span>: <span style=color:#ae81ff>.</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>ports</span>:
</span></span><span style=display:flex><span>      - <span style=color:#e6db74>&#34;8080:80&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>volumes</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>./public:/var/www/html</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>environment</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>APACHE_DOCUMENT_ROOT=/var/www/html</span>
</span></span></code></pre></div><h2 id=testing-examples>Testing Examples</h2><h3 id=test-search-functionality>Test Search Functionality</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Test basic search</span>
</span></span><span style=display:flex><span>curl -s <span style=color:#e6db74>&#34;http://localhost/api/search.php?q=hugo&#34;</span> | jq <span style=color:#e6db74>&#39;.results[] | {title, url}&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Test with filters</span>
</span></span><span style=display:flex><span>curl -s <span style=color:#e6db74>&#34;http://localhost/api/search.php?q=search&amp;section=docs&#34;</span> | jq <span style=color:#e6db74>&#39;.total&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Test pagination</span>
</span></span><span style=display:flex><span>curl -s <span style=color:#e6db74>&#34;http://localhost/api/search.php?q=hugo&amp;page=2&amp;limit=5&#34;</span> | jq <span style=color:#e6db74>&#39;.page, .total_pages&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Test sections endpoint</span>
</span></span><span style=display:flex><span>curl -s <span style=color:#e6db74>&#34;http://localhost/api/search.php?action=sections&#34;</span> | jq <span style=color:#e6db74>&#39;.sections&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Test advanced queries</span>
</span></span><span style=display:flex><span>curl -s <span style=color:#e6db74>&#34;http://localhost/api/search.php?q=title:configuration&#34;</span> | jq <span style=color:#e6db74>&#39;.results | length&#39;</span>
</span></span><span style=display:flex><span>curl -s <span style=color:#e6db74>&#34;http://localhost/api/search.php?q=after:2024-01-01&#34;</span> | jq <span style=color:#e6db74>&#39;.results | length&#39;</span>
</span></span></code></pre></div><h2 id=performance-optimization-examples>Performance Optimization Examples</h2><h3 id=1-enable-database-caching>1. Enable Database Caching</h3><p>Add caching headers in PHP:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#75715e>// In search.php
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>header</span>(<span style=color:#e6db74>&#39;Cache-Control: public, max-age=300&#39;</span>); <span style=color:#75715e>// Cache for 5 minutes
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>header</span>(<span style=color:#e6db74>&#39;ETag: &#39;</span> <span style=color:#f92672>.</span> <span style=color:#a6e22e>md5</span>($query <span style=color:#f92672>.</span> $section <span style=color:#f92672>.</span> $page));
</span></span></code></pre></div><h3 id=2-implement-result-caching>2. Implement Result Caching</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SearchCache</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> $cacheDir <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;../cache/&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> $ttl <span style=color:#f92672>=</span> <span style=color:#ae81ff>300</span>; <span style=color:#75715e>// 5 minutes
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>get</span>($key) {
</span></span><span style=display:flex><span>        $file <span style=color:#f92672>=</span> $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>cacheDir</span> <span style=color:#f92672>.</span> <span style=color:#a6e22e>md5</span>($key) <span style=color:#f92672>.</span> <span style=color:#e6db74>&#39;.json&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>file_exists</span>($file) <span style=color:#f92672>&amp;&amp;</span> (<span style=color:#a6e22e>time</span>() <span style=color:#f92672>-</span> <span style=color:#a6e22e>filemtime</span>($file)) <span style=color:#f92672>&lt;</span> $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>ttl</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>json_decode</span>(<span style=color:#a6e22e>file_get_contents</span>($file), <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>set</span>($key, $data) {
</span></span><span style=display:flex><span>        $file <span style=color:#f92672>=</span> $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>cacheDir</span> <span style=color:#f92672>.</span> <span style=color:#a6e22e>md5</span>($key) <span style=color:#f92672>.</span> <span style=color:#e6db74>&#39;.json&#39;</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>file_put_contents</span>($file, <span style=color:#a6e22e>json_encode</span>($data));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Usage in search.php
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>$cache <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>SearchCache</span>();
</span></span><span style=display:flex><span>$cacheKey <span style=color:#f92672>=</span> $query <span style=color:#f92672>.</span> $section <span style=color:#f92672>.</span> $page <span style=color:#f92672>.</span> $sort;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> ($cached <span style=color:#f92672>=</span> $cache<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>get</span>($cacheKey)) {
</span></span><span style=display:flex><span>    $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>sendResponse</span>($cached);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$results <span style=color:#f92672>=</span> $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>performSearch</span>($pdo, $query, $page, $limit, $section, $sort);
</span></span><span style=display:flex><span>$cache<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>set</span>($cacheKey, $results);
</span></span></code></pre></div><h2 id=more-resources>More Resources</h2><ul><li>Check our <a href=/docs/api-reference/>API Reference</a> for complete API documentation</li><li>See <a href=/docs/configuration/>Configuration</a> for all available options</li><li>Visit the <a href=/docs/getting-started/>Getting Started</a> guide for installation instructions</li></ul></main><footer><p>Copyright 2025. All rights reserved.</p></footer></body></html>