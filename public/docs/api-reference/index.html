<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>API Reference | Lightweight Search Engine</title><link rel=stylesheet href=/hugo-lightweight-search/css/main.min.73be4799b2091d293b47b52ca2642fe82aa2b1c9c050e8d1b389a80939a30dd4.css integrity="sha256-c75HmbIJHSk7R7UsomQv6CqiscnAUOjRs4moCTmjDdQ=" crossorigin=anonymous><script src=/hugo-lightweight-search/js/main.23cd0c7d837263b9eaeb96ee2d9ccfa2969daa3fa00fa1c1fe8701a9b87251a1.js integrity="sha256-I80MfYNyY7nq65buLZzPopadqj+gD6HB/ocBqbhyUaE=" crossorigin=anonymous></script></head><body><header><h1>Lightweight Search Engine</h1><nav><ul><li><a href=/hugo-lightweight-search/>Home</a></li><li><a href=/hugo-lightweight-search/docs/>Documentation</a></li><li><a href=/hugo-lightweight-search/posts/>Blog</a></li><li><a href=/hugo-lightweight-search/pages/about/>About</a></li><li><a href=/hugo-lightweight-search/pages/search/>Search</a></li></ul></nav></header><main><h1>API Reference</h1><time datetime=2025-10-06T00:00:00+00:00>October 6, 2025</time><h1 id=api-reference>API Reference</h1><p>Complete reference for the Hugo Lightweight Search PHP API.</p><h2 id=endpoint>Endpoint</h2><pre tabindex=0><code>GET /api/search.php
</code></pre><p>Base URL: <code>https://yourdomain.com/api/search.php</code></p><h2 id=authentication>Authentication</h2><p>The API is publicly accessible and does not require authentication. CORS is enabled to allow cross-origin requests.</p><h2 id=query-parameters>Query Parameters</h2><h3 id=search-action-default>Search Action (Default)</h3><table><thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>q</code></td><td>string</td><td>Yes</td><td>-</td><td>Search query (minimum 2 characters)</td></tr><tr><td><code>page</code></td><td>integer</td><td>No</td><td>1</td><td>Page number for pagination (1-indexed)</td></tr><tr><td><code>section</code></td><td>string</td><td>No</td><td>-</td><td>Filter results by section (e.g., &ldquo;blog&rdquo;, &ldquo;docs&rdquo;)</td></tr><tr><td><code>sort</code></td><td>string</td><td>No</td><td>relevance</td><td>Sort order: <code>relevance</code>, <code>date_desc</code>, or <code>date_asc</code></td></tr><tr><td><code>limit</code></td><td>integer</td><td>No</td><td>20</td><td>Results per page (maximum 100)</td></tr></tbody></table><h3 id=sections-action>Sections Action</h3><table><thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td><code>action</code></td><td>string</td><td>Yes</td><td>Set to <code>sections</code> to retrieve available sections</td></tr></tbody></table><h2 id=advanced-query-syntax>Advanced Query Syntax</h2><p>The search API supports advanced query operators for precise searching:</p><h3 id=exact-phrase-search>Exact Phrase Search</h3><p>Use double quotes to search for exact phrases:</p><pre tabindex=0><code>&#34;machine learning&#34;
</code></pre><h3 id=field-specific-searches>Field-Specific Searches</h3><p>Search within specific fields using <code>field:term</code> syntax:</p><ul><li><strong>title:term</strong> - Search in title only</li><li><strong>content:term</strong> - Search in content only</li><li><strong>tags:term</strong> - Search in tags</li><li><strong>categories:term</strong> - Search in categories</li><li><strong>summary:term</strong> - Search in summary</li></ul><p><strong>Examples:</strong></p><pre tabindex=0><code>title:tutorial
tags:javascript
content:&#34;error handling&#34;
</code></pre><h3 id=date-filters>Date Filters</h3><p>Filter results by date range:</p><ul><li><strong>after:YYYY-MM-DD</strong> - Results published on or after this date</li><li><strong>before:YYYY-MM-DD</strong> - Results published on or before this date</li></ul><p><strong>Examples:</strong></p><pre tabindex=0><code>after:2024-01-01
before:2024-12-31
after:2024-01-01 before:2024-12-31
</code></pre><h3 id=boolean-operators>Boolean Operators</h3><ul><li><strong>AND</strong> (default) - All terms must be present</li><li><strong>OR</strong> - Any term can be present</li><li><strong>NOT</strong> - Currently recognized but not implemented</li></ul><p><strong>Examples:</strong></p><pre tabindex=0><code>javascript OR python
react AND hooks
</code></pre><h3 id=wildcard-and-fuzzy-matching>Wildcard and Fuzzy Matching</h3><ul><li>Automatic prefix matching: Terms automatically get a wildcard suffix for fuzzy matching</li><li>Explicit wildcards: Use <code>*</code> at the end of a term for prefix search</li></ul><p><strong>Examples:</strong></p><pre tabindex=0><code>java*    (matches java, javascript, javadoc)
react    (automatically searches for react*)
</code></pre><h3 id=combining-query-operators>Combining Query Operators</h3><p>You can combine multiple operators in a single query:</p><pre tabindex=0><code>title:&#34;getting started&#34; after:2024-01-01 tags:tutorial
&#34;docker compose&#34; OR kubernetes content:deployment
</code></pre><h2 id=response-format>Response Format</h2><h3 id=successful-search-response>Successful Search Response</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;results&#34;</span>: [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;id&#34;</span>: <span style=color:#e6db74>&#34;1&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;title&#34;</span>: <span style=color:#e6db74>&#34;Getting Started with Hugo&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;title_highlighted&#34;</span>: <span style=color:#e6db74>&#34;Getting Started with &lt;mark&gt;Hugo&lt;/mark&gt;&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;url&#34;</span>: <span style=color:#e6db74>&#34;/blog/getting-started-with-hugo/&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;summary&#34;</span>: <span style=color:#e6db74>&#34;Learn how to build static sites with Hugo&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;summary_highlighted&#34;</span>: <span style=color:#e6db74>&#34;Learn how to build static sites with &lt;mark&gt;Hugo&lt;/mark&gt;&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;content_snippet&#34;</span>: <span style=color:#e6db74>&#34;...quick start guide for &lt;mark&gt;Hugo&lt;/mark&gt; static site...&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;date&#34;</span>: <span style=color:#e6db74>&#34;2024-03-15&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;section&#34;</span>: <span style=color:#e6db74>&#34;blog&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;tags&#34;</span>: [<span style=color:#e6db74>&#34;hugo&#34;</span>, <span style=color:#e6db74>&#34;tutorial&#34;</span>, <span style=color:#e6db74>&#34;static-site&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;categories&#34;</span>: [<span style=color:#e6db74>&#34;web-development&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;relevance&#34;</span>: <span style=color:#ae81ff>-2.45</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;relevance_score&#34;</span>: <span style=color:#ae81ff>2.45</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;total&#34;</span>: <span style=color:#ae81ff>42</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;page&#34;</span>: <span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;per_page&#34;</span>: <span style=color:#ae81ff>20</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;total_pages&#34;</span>: <span style=color:#ae81ff>3</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;query&#34;</span>: <span style=color:#e6db74>&#34;hugo tutorial&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;parsed_query&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;terms&#34;</span>: [<span style=color:#e6db74>&#34;hugo&#34;</span>, <span style=color:#e6db74>&#34;tutorial&#34;</span>],
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;phrases&#34;</span>: [],
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;field_searches&#34;</span>: [],
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;after&#34;</span>: <span style=color:#66d9ef>null</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;before&#34;</span>: <span style=color:#66d9ef>null</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;operators&#34;</span>: []
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;fts_query&#34;</span>: <span style=color:#e6db74>&#34;hugo* AND tutorial*&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=sections-response>Sections Response</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;sections&#34;</span>: [
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;blog&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;docs&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;tutorials&#34;</span>
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=error-response>Error Response</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;error&#34;</span>: <span style=color:#e6db74>&#34;Search error: Database connection failed&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>HTTP status code will be 500 for errors.</p><h2 id=result-object-fields>Result Object Fields</h2><p>Each search result contains:</p><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>id</code></td><td>string</td><td>Unique identifier for the content</td></tr><tr><td><code>title</code></td><td>string</td><td>Original title</td></tr><tr><td><code>title_highlighted</code></td><td>string</td><td>Title with search terms wrapped in <code>&lt;mark></code> tags</td></tr><tr><td><code>url</code></td><td>string</td><td>Relative URL to the content</td></tr><tr><td><code>summary</code></td><td>string</td><td>Original summary/description</td></tr><tr><td><code>summary_highlighted</code></td><td>string</td><td>Summary with search terms highlighted</td></tr><tr><td><code>content_snippet</code></td><td>string</td><td>Excerpt from content with search terms highlighted</td></tr><tr><td><code>date</code></td><td>string</td><td>Publication date (YYYY-MM-DD format)</td></tr><tr><td><code>section</code></td><td>string</td><td>Content section (e.g., &ldquo;blog&rdquo;, &ldquo;docs&rdquo;)</td></tr><tr><td><code>tags</code></td><td>array</td><td>Array of tag strings</td></tr><tr><td><code>categories</code></td><td>array</td><td>Array of category strings</td></tr><tr><td><code>relevance</code></td><td>number</td><td>Raw BM25 relevance score (negative value)</td></tr><tr><td><code>relevance_score</code></td><td>number</td><td>Normalized relevance score (positive, rounded to 2 decimals)</td></tr></tbody></table><h2 id=sorting-options>Sorting Options</h2><h3 id=relevance-default>relevance (default)</h3><p>Results are sorted by BM25 relevance score with intelligent boosting:</p><ol><li>Documents with the search term in the title are ranked higher</li><li>More relevant matches (based on BM25 algorithm) appear first</li><li>Recent content gets slight preference when relevance is equal</li></ol><h3 id=date_desc>date_desc</h3><p>Results sorted by publication date, newest first. Relevance is used as a secondary sort key.</p><h3 id=date_asc>date_asc</h3><p>Results sorted by publication date, oldest first. Relevance is used as a secondary sort key.</p><h2 id=pagination>Pagination</h2><p>The API uses offset-based pagination:</p><ul><li><strong>page</strong>: Current page number (1-indexed)</li><li><strong>per_page</strong>: Number of results per page (max 100)</li><li><strong>total</strong>: Total number of matching results</li><li><strong>total_pages</strong>: Total number of pages available</li></ul><p>To fetch the next page:</p><pre tabindex=0><code>?q=search&amp;page=2
</code></pre><h2 id=example-requests>Example Requests</h2><h3 id=basic-search>Basic Search</h3><p><strong>cURL:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl <span style=color:#e6db74>&#34;https://yourdomain.com/api/search.php?q=hugo&#34;</span>
</span></span></code></pre></div><p><strong>JavaScript (Fetch):</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>&#39;https://yourdomain.com/api/search.php?q=hugo&#39;</span>)
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>response</span> =&gt; <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>())
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>data</span> =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Found </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>total</span><span style=color:#e6db74>}</span><span style=color:#e6db74> results`</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>results</span>.<span style=color:#a6e22e>forEach</span>(<span style=color:#a6e22e>result</span> =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>title</span>, <span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>url</span>);
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  });
</span></span></code></pre></div><p><strong>JavaScript (Async/Await):</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>search</span>(<span style=color:#a6e22e>query</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>response</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>fetch</span>(
</span></span><span style=display:flex><span>    <span style=color:#e6db74>`https://yourdomain.com/api/search.php?q=</span><span style=color:#e6db74>${</span>encodeURIComponent(<span style=color:#a6e22e>query</span>)<span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>data</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>results</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>search</span>(<span style=color:#e6db74>&#39;hugo tutorial&#39;</span>);
</span></span></code></pre></div><h3 id=search-with-pagination>Search with Pagination</h3><p><strong>cURL:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl <span style=color:#e6db74>&#34;https://yourdomain.com/api/search.php?q=javascript&amp;page=2&amp;limit=10&#34;</span>
</span></span></code></pre></div><p><strong>JavaScript:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>params</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>URLSearchParams</span>({
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>q</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;javascript&#39;</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>page</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>2</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>limit</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>});
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>response</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>`/api/search.php?</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>params</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>();
</span></span></code></pre></div><h3 id=filter-by-section>Filter by Section</h3><p><strong>cURL:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl <span style=color:#e6db74>&#34;https://yourdomain.com/api/search.php?q=tutorial&amp;section=blog&#34;</span>
</span></span></code></pre></div><p><strong>JavaScript:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>response</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>&#39;/api/search.php?q=tutorial&amp;section=blog&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>();
</span></span></code></pre></div><h3 id=sort-by-date>Sort by Date</h3><p><strong>cURL:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl <span style=color:#e6db74>&#34;https://yourdomain.com/api/search.php?q=news&amp;sort=date_desc&#34;</span>
</span></span></code></pre></div><p><strong>JavaScript:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>response</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>&#39;/api/search.php?q=news&amp;sort=date_desc&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>();
</span></span></code></pre></div><h3 id=advanced-query-with-multiple-operators>Advanced Query with Multiple Operators</h3><p><strong>cURL:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl <span style=color:#e6db74>&#34;https://yourdomain.com/api/search.php?q=title:docker%20after:2024-01-01%20tags:tutorial&#34;</span>
</span></span></code></pre></div><p><strong>JavaScript:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>query</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;title:docker after:2024-01-01 tags:tutorial&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>response</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>fetch</span>(
</span></span><span style=display:flex><span>  <span style=color:#e6db74>`/api/search.php?q=</span><span style=color:#e6db74>${</span>encodeURIComponent(<span style=color:#a6e22e>query</span>)<span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>();
</span></span></code></pre></div><h3 id=exact-phrase-search-1>Exact Phrase Search</h3><p><strong>cURL:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl <span style=color:#e6db74>&#34;https://yourdomain.com/api/search.php?q=\&#34;getting%20started\&#34;&#34;</span>
</span></span></code></pre></div><p><strong>JavaScript:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>response</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>fetch</span>(
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;/api/search.php?q=&#39;</span> <span style=color:#f92672>+</span> encodeURIComponent(<span style=color:#e6db74>&#39;&#34;getting started&#34;&#39;</span>)
</span></span><span style=display:flex><span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>();
</span></span></code></pre></div><h3 id=get-available-sections>Get Available Sections</h3><p><strong>cURL:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl <span style=color:#e6db74>&#34;https://yourdomain.com/api/search.php?action=sections&#34;</span>
</span></span></code></pre></div><p><strong>JavaScript:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>response</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>&#39;/api/search.php?action=sections&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> { <span style=color:#a6e22e>sections</span> } <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>();
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;Available sections:&#39;</span>, <span style=color:#a6e22e>sections</span>);
</span></span></code></pre></div><h2 id=complete-search-ui-example>Complete Search UI Example</h2><p>Here&rsquo;s a complete example of building a search interface:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SearchUI</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>constructor</span>(<span style=color:#a6e22e>apiUrl</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>apiUrl</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>apiUrl</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>currentPage</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>currentQuery</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>search</span>(<span style=color:#a6e22e>query</span>, <span style=color:#a6e22e>options</span> <span style=color:#f92672>=</span> {}) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>params</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>URLSearchParams</span>({
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>q</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>query</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>page</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>options</span>.<span style=color:#a6e22e>page</span> <span style=color:#f92672>||</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>currentPage</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>limit</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>options</span>.<span style=color:#a6e22e>limit</span> <span style=color:#f92672>||</span> <span style=color:#ae81ff>20</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>sort</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>options</span>.<span style=color:#a6e22e>sort</span> <span style=color:#f92672>||</span> <span style=color:#e6db74>&#39;relevance&#39;</span>
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>options</span>.<span style=color:#a6e22e>section</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>params</span>.<span style=color:#a6e22e>append</span>(<span style=color:#e6db74>&#39;section&#39;</span>, <span style=color:#a6e22e>options</span>.<span style=color:#a6e22e>section</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>response</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>apiUrl</span><span style=color:#e6db74>}</span><span style=color:#e6db74>?</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>params</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>ok</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> Error(<span style=color:#e6db74>`HTTP error! status: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>status</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> Error(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>error</span>);
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>data</span>;
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#39;Search failed:&#39;</span>, <span style=color:#a6e22e>error</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>throw</span> <span style=color:#a6e22e>error</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>getSections</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>response</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>apiUrl</span><span style=color:#e6db74>}</span><span style=color:#e6db74>?action=sections`</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>sections</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>renderResults</span>(<span style=color:#a6e22e>data</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>resultsContainer</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#39;search-results&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>html</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>results</span>.<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>result</span> =&gt; <span style=color:#e6db74>`
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      &lt;article class=&#34;search-result&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &lt;h3&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          &lt;a href=&#34;</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>url</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;&gt;</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>title_highlighted</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&lt;/a&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &lt;/h3&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &lt;div class=&#34;metadata&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          &lt;span class=&#34;date&#34;&gt;</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>date</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&lt;/span&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          &lt;span class=&#34;section&#34;&gt;</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>section</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&lt;/span&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          &lt;span class=&#34;score&#34;&gt;Score: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>relevance_score</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&lt;/span&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &lt;p class=&#34;summary&#34;&gt;</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>summary_highlighted</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&lt;/p&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>content_snippet</span> <span style=color:#f92672>?</span>
</span></span><span style=display:flex><span>          <span style=color:#e6db74>`&lt;p class=&#34;snippet&#34;&gt;</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>content_snippet</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&lt;/p&gt;`</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#e6db74>}</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>tags</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>?</span>
</span></span><span style=display:flex><span>          <span style=color:#e6db74>`&lt;div class=&#34;tags&#34;&gt;</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>tags</span>.<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>tag</span> =&gt;
</span></span><span style=display:flex><span>            <span style=color:#e6db74>`&lt;span class=&#34;tag&#34;&gt;</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>tag</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&lt;/span&gt;`</span>
</span></span><span style=display:flex><span>          ).<span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#39;&#39;</span>)<span style=color:#e6db74>}</span><span style=color:#e6db74>&lt;/div&gt;`</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#e6db74>}</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      &lt;/article&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    `</span>).<span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#39;&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>resultsContainer</span>.<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>html</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Render pagination
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>renderPagination</span>(<span style=color:#a6e22e>data</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>renderPagination</span>(<span style=color:#a6e22e>data</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>pagination</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#39;pagination&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>pages</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>total_pages</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isActive</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>page</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#39;active&#39;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;&#39;</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>pages</span>.<span style=color:#a6e22e>push</span>(<span style=color:#e6db74>`
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &lt;button class=&#34;</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>isActive</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&#34; data-page=&#34;</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>i</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>i</span><span style=color:#e6db74>}</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &lt;/button&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      `</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>pagination</span>.<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>`
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      &lt;div class=&#34;pagination-info&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        Showing </span><span style=color:#e6db74>${</span>(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>page</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>per_page</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span><span style=color:#e6db74>}</span><span style=color:#e6db74>-</span><span style=color:#e6db74>${</span>Math.<span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>page</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>per_page</span>, <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>total</span>)<span style=color:#e6db74>}</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        of </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>total</span><span style=color:#e6db74>}</span><span style=color:#e6db74> results
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      &lt;div class=&#34;pagination-buttons&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>pages</span>.<span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#39;&#39;</span>)<span style=color:#e6db74>}</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    `</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Add click handlers
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>pagination</span>.<span style=color:#a6e22e>querySelectorAll</span>(<span style=color:#e6db74>&#39;button&#39;</span>).<span style=color:#a6e22e>forEach</span>(<span style=color:#a6e22e>btn</span> =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>btn</span>.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#39;click&#39;</span>, () =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>currentPage</span> <span style=color:#f92672>=</span> parseInt(<span style=color:#a6e22e>btn</span>.<span style=color:#a6e22e>dataset</span>.<span style=color:#a6e22e>page</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>search</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>currentQuery</span>, { <span style=color:#a6e22e>page</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>currentPage</span> })
</span></span><span style=display:flex><span>          .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>data</span> =&gt; <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>renderResults</span>(<span style=color:#a6e22e>data</span>));
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Usage
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>searchUI</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>SearchUI</span>(<span style=color:#e6db74>&#39;/api/search.php&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#39;search-form&#39;</span>).<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#39;submit&#39;</span>, <span style=color:#66d9ef>async</span> (<span style=color:#a6e22e>e</span>) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>preventDefault</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>query</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#39;search-input&#39;</span>).<span style=color:#a6e22e>value</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>section</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#39;section-filter&#39;</span>).<span style=color:#a6e22e>value</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>sort</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#39;sort-order&#39;</span>).<span style=color:#a6e22e>value</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>searchUI</span>.<span style=color:#a6e22e>currentQuery</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>query</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>searchUI</span>.<span style=color:#a6e22e>currentPage</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>results</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>searchUI</span>.<span style=color:#a6e22e>search</span>(<span style=color:#a6e22e>query</span>, { <span style=color:#a6e22e>section</span>, <span style=color:#a6e22e>sort</span> });
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>searchUI</span>.<span style=color:#a6e22e>renderResults</span>(<span style=color:#a6e22e>results</span>);
</span></span><span style=display:flex><span>});
</span></span></code></pre></div><h2 id=rate-limiting>Rate Limiting</h2><p>The API does not currently implement rate limiting. For production use, consider implementing rate limiting at the web server level (e.g., using nginx <code>limit_req</code> module).</p><h2 id=performance-tips>Performance Tips</h2><ol><li><strong>Use specific field searches</strong> when possible (e.g., <code>title:term</code>) to narrow results</li><li><strong>Limit results per page</strong> to reduce response size and improve load times</li><li><strong>Cache section listings</strong> since they change infrequently</li><li><strong>Implement client-side debouncing</strong> for search-as-you-type features</li><li><strong>Use pagination</strong> rather than fetching all results at once</li></ol><h2 id=database-structure>Database Structure</h2><p>The API uses SQLite with FTS5 (Full-Text Search 5) for high-performance searches. The database contains:</p><ul><li><strong>search_content</strong> - Main content table with metadata</li><li><strong>search_fts</strong> - FTS5 virtual table for full-text indexing</li></ul><p>Searches use BM25 ranking algorithm for relevance scoring.</p><h2 id=error-handling>Error Handling</h2><p>The API returns JSON error responses with appropriate HTTP status codes:</p><ul><li><strong>200 OK</strong> - Successful request</li><li><strong>500 Internal Server Error</strong> - Database errors or server issues</li></ul><p>Always check for the <code>error</code> field in the response:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>response</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>&#39;/api/search.php?q=test&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#39;Search error:&#39;</span>, <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>error</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Handle error appropriately
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Process results
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div></main><footer><p>Copyright 2025. All rights reserved.</p></footer></body></html>