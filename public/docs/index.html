<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Documentation | Lightweight Search Engine</title><link rel=stylesheet href=/hugo-lightweight-search/css/main.min.73be4799b2091d293b47b52ca2642fe82aa2b1c9c050e8d1b389a80939a30dd4.css integrity="sha256-c75HmbIJHSk7R7UsomQv6CqiscnAUOjRs4moCTmjDdQ=" crossorigin=anonymous><script src=/hugo-lightweight-search/js/main.23cd0c7d837263b9eaeb96ee2d9ccfa2969daa3fa00fa1c1fe8701a9b87251a1.js integrity="sha256-I80MfYNyY7nq65buLZzPopadqj+gD6HB/ocBqbhyUaE=" crossorigin=anonymous></script></head><body><header><h1>Lightweight Search Engine</h1><nav><ul><li><a href=/hugo-lightweight-search/>Home</a></li><li><a href=/hugo-lightweight-search/docs/>Documentation</a></li><li><a href=/hugo-lightweight-search/posts/>Blog</a></li><li><a href=/hugo-lightweight-search/pages/about/>About</a></li><li><a href=/hugo-lightweight-search/pages/search/>Search</a></li></ul></nav></header><main><h1>Documentation</h1><h1 id=hugo-sqlite-search-documentation>Hugo SQLite Search Documentation</h1><p>Welcome to Hugo SQLite Search - a powerful, lightweight search engine for your Hugo static sites. Built with PHP, SQLite FTS5, and a simple JavaScript frontend, it delivers fast, server-side full-text search without complex dependencies.</p><h2 id=overview>Overview</h2><p>Hugo SQLite Search is a complete search solution that:</p><ul><li><strong>Indexes during build</strong> - Automatically creates a SQLite FTS5 database from your Hugo content</li><li><strong>Searches server-side</strong> - PHP-powered REST API with advanced query capabilities</li><li><strong>Ranks intelligently</strong> - BM25 algorithm with field weighting and Porter stemming</li><li><strong>Stays portable</strong> - Single SQLite database file, easy to deploy anywhere</li><li><strong>Performs fast</strong> - Sub-50ms queries on databases with 1000+ pages</li></ul><p>Perfect for blogs, documentation sites, and content-rich Hugo projects of any size.</p><h2 id=documentation-sections>Documentation Sections</h2><h3 id=getting-started><a href=getting-started/>Getting Started</a></h3><p>Complete installation guide to get search running on your Hugo site in under 10 minutes. Includes step-by-step setup, build scripts, and deployment instructions.</p><h3 id=api-reference><a href=api-reference/>API Reference</a></h3><p>Comprehensive API documentation covering all search endpoints, query parameters, response formats, and advanced search syntax.</p><h3 id=configuration><a href=configuration/>Configuration</a></h3><p>Learn how to customize search behavior, adjust ranking weights, configure field indexing, and optimize performance for your specific needs.</p><h3 id=examples><a href=examples/>Examples</a></h3><p>Real-world implementation examples including custom search interfaces, section filtering, advanced queries, and integration patterns.</p><h2 id=quick-start>Quick Start</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 1. Copy files to your Hugo site</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 2. Configure Hugo for JSON output</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 3. Run the build script</span>
</span></span><span style=display:flex><span>./build.sh
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 4. Test locally</span>
</span></span><span style=display:flex><span>cd public <span style=color:#f92672>&amp;&amp;</span> php -S localhost:8080
</span></span></code></pre></div><p>Visit <a href=getting-started/>Getting Started</a> for detailed instructions.</p><h2 id=common-tasks>Common Tasks</h2><ul><li><strong>First-time setup</strong> - Follow the <a href=getting-started/#installation>Installation guide</a></li><li><strong>Rebuild search index</strong> - Run <code>./build.sh</code> after content updates</li><li><strong>Customize search UI</strong> - Edit <code>/layouts/page/search.html</code> template</li><li><strong>Exclude pages</strong> - Add <code>search: false</code> to page front matter</li><li><strong>Test search API</strong> - Use <code>curl</code> or visit <code>/api/search.php?q=test</code></li><li><strong>Debug issues</strong> - Check the <a href=getting-started/#troubleshooting>Troubleshooting section</a></li></ul><h2 id=system-requirements>System Requirements</h2><h3 id=required>Required</h3><ul><li><strong>Hugo</strong> - Any recent version (<a href=https://gohugo.io/installation/>Install Hugo</a>)</li><li><strong>PHP 7.4+</strong> - With SQLite3 extension enabled</li><li><strong>Web server</strong> - Apache, Nginx, or PHP built-in server</li></ul><h3 id=optional>Optional</h3><ul><li><strong>SQLite3 CLI</strong> - For database debugging and inspection</li></ul><h3 id=verify-your-setup>Verify Your Setup</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>hugo version              <span style=color:#75715e># Check Hugo installation</span>
</span></span><span style=display:flex><span>php -v                    <span style=color:#75715e># Check PHP version</span>
</span></span><span style=display:flex><span>php -m | grep sqlite3     <span style=color:#75715e># Verify SQLite extension</span>
</span></span></code></pre></div><h2 id=key-features>Key Features</h2><ul><li><strong>Porter Stemming</strong> - Matches word variants automatically (search &ldquo;run&rdquo; finds &ldquo;running&rdquo;, &ldquo;runs&rdquo;)</li><li><strong>Phrase Search</strong> - Exact matching with quoted queries: <code>"getting started"</code></li><li><strong>Field-Specific Search</strong> - Target fields: <code>title:hugo</code>, <code>tags:tutorial</code></li><li><strong>Date Filtering</strong> - Time-based queries: <code>after:2024-01-01</code>, <code>before:2024-12-31</code></li><li><strong>Section Filtering</strong> - Limit results by content section</li><li><strong>BM25 Ranking</strong> - Sophisticated relevance scoring</li><li><strong>Fuzzy Matching</strong> - Automatic prefix matching for partial terms</li><li><strong>Boolean Operators</strong> - Combine terms with OR logic</li></ul><h2 id=learn-more>Learn More</h2><h3 id=tutorials-and-guides>Tutorials and Guides</h3><p>Visit our <a href=/posts/>blog</a> for in-depth tutorials:</p><ul><li><a href=/posts/introducing-lightweight-search/>Introducing Lightweight Search</a> - Project overview and philosophy</li><li><a href=/posts/search-performance-tips/>Search Performance Tips</a> - Optimization strategies</li><li><a href=/posts/building-custom-tokenizers/>Building Custom Tokenizers</a> - Advanced customization</li></ul><h3 id=performance>Performance</h3><ul><li><strong>Build time</strong>: ~0.1-0.5 seconds per 100 pages</li><li><strong>Database size</strong>: ~50-200 KB per 100 pages</li><li><strong>Query time</strong>: &lt;50ms typical for 1000+ page sites</li><li><strong>Memory usage</strong>: Minimal - SQLite loads only needed data</li></ul><h3 id=get-help>Get Help</h3><ul><li>Browse the documentation sections above</li><li>Check <a href=getting-started/#troubleshooting>Troubleshooting</a> for common issues</li><li>Review <a href=examples/>Examples</a> for implementation patterns</li></ul><hr><p>Ready to add search to your Hugo site? Start with <a href=getting-started/>Getting Started</a>.</p><h2><a href=/hugo-lightweight-search/docs/getting-started/>Getting Started</a></h2><h1 id=getting-started>Getting Started</h1><p>Get Hugo Lightweight Search up and running on your site in under 10 minutes. This guide covers the complete setup of a PHP-powered search engine using Hugo, SQLite FTS5, and a JavaScript frontend.</p><h2 id=what-youll-build>What You&rsquo;ll Build</h2><p>A fast, server-side search engine that:</p><ul><li>Indexes your Hugo content automatically during build</li><li>Uses SQLite FTS5 for powerful full-text search with stemming</li><li>Provides a REST API for searching</li><li>Includes a ready-to-use search page with JavaScript client</li></ul><h2 id=prerequisites>Prerequisites</h2><p>Before you begin, ensure you have:</p><h2><a href=/hugo-lightweight-search/docs/api-reference/>API Reference</a></h2><h1 id=api-reference>API Reference</h1><p>Complete reference for the Hugo Lightweight Search PHP API.</p><h2 id=endpoint>Endpoint</h2><pre tabindex=0><code>GET /api/search.php
</code></pre><p>Base URL: <code>https://yourdomain.com/api/search.php</code></p><h2 id=authentication>Authentication</h2><p>The API is publicly accessible and does not require authentication. CORS is enabled to allow cross-origin requests.</p><h2 id=query-parameters>Query Parameters</h2><h3 id=search-action-default>Search Action (Default)</h3><table><thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>q</code></td><td>string</td><td>Yes</td><td>-</td><td>Search query (minimum 2 characters)</td></tr><tr><td><code>page</code></td><td>integer</td><td>No</td><td>1</td><td>Page number for pagination (1-indexed)</td></tr><tr><td><code>section</code></td><td>string</td><td>No</td><td>-</td><td>Filter results by section (e.g., &ldquo;blog&rdquo;, &ldquo;docs&rdquo;)</td></tr><tr><td><code>sort</code></td><td>string</td><td>No</td><td>relevance</td><td>Sort order: <code>relevance</code>, <code>date_desc</code>, or <code>date_asc</code></td></tr><tr><td><code>limit</code></td><td>integer</td><td>No</td><td>20</td><td>Results per page (maximum 100)</td></tr></tbody></table><h3 id=sections-action>Sections Action</h3><table><thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td><code>action</code></td><td>string</td><td>Yes</td><td>Set to <code>sections</code> to retrieve available sections</td></tr></tbody></table><h2 id=advanced-query-syntax>Advanced Query Syntax</h2><p>The search API supports advanced query operators for precise searching:</p><h2><a href=/hugo-lightweight-search/docs/configuration/>Configuration</a></h2><h1 id=configuration>Configuration</h1><p>Customize Hugo SQLite Search to match your site&rsquo;s needs.</p><h2 id=hugo-configuration>Hugo Configuration</h2><h3 id=required-json-output>Required: JSON Output</h3><p>Enable JSON output in your <code>hugo.yaml</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>outputs</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>home</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>HTML</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>RSS</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>JSON</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>outputFormats</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>JSON</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>baseName</span>: <span style=color:#ae81ff>index</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>isPlainText</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>mediaType</span>: <span style=color:#ae81ff>application/json</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>notAlternative</span>: <span style=color:#66d9ef>true</span>
</span></span></code></pre></div><h3 id=json-template-configuration>JSON Template Configuration</h3><p>The search data template (<code>layouts/_default/search-data.json</code>) controls what content gets indexed.</p><h4 id=default-template>Default Template</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-template data-lang=go-template><span style=display:flex><span><span style=color:#75715e>{{-</span> <span style=color:#a6e22e>$pages</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>where</span> <span style=color:#a6e22e>site</span><span style=color:#a6e22e>.RegularPages</span> <span style=color:#e6db74>&#34;Type&#34;</span> <span style=color:#e6db74>&#34;!=&#34;</span> <span style=color:#e6db74>&#34;page&#34;</span> <span style=color:#75715e>-}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{-</span> <span style=color:#a6e22e>$pages</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>where</span> <span style=color:#a6e22e>$pages</span> <span style=color:#e6db74>&#34;Draft&#34;</span> <span style=color:#e6db74>&#34;!=&#34;</span> <span style=color:#66d9ef>true</span> <span style=color:#75715e>-}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{-</span> <span style=color:#a6e22e>$pages</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>where</span> <span style=color:#a6e22e>$pages</span> <span style=color:#e6db74>&#34;Params.search&#34;</span> <span style=color:#e6db74>&#34;!=&#34;</span> <span style=color:#66d9ef>false</span> <span style=color:#75715e>-}}</span>
</span></span><span style=display:flex><span>[
</span></span><span style=display:flex><span><span style=color:#75715e>{{-</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>$index</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>$page</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>$pages</span> <span style=color:#75715e>-}}</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>{{-</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>$index</span> <span style=color:#75715e>}}</span>,<span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    &#34;id&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.File.UniqueID</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;title&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Title</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;url&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Permalink</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;content&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Plain</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;summary&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Summary</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;date&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Date.Format</span> <span style=color:#e6db74>&#34;2006-01-02&#34;</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;section&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Section</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;tags&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Params.tags</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>,
</span></span><span style=display:flex><span>    &#34;categories&#34;: <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$page</span><span style=color:#a6e22e>.Params.categories</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>jsonify</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span><span style=color:#75715e>{{-</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>-}}</span>
</span></span><span style=display:flex><span>]
</span></span></code></pre></div><h4 id=exclude-pages-from-search>Exclude Pages from Search</h4><p>Add to page front matter:</p><h2><a href=/hugo-lightweight-search/docs/examples/>Examples</a></h2><h1 id=examples>Examples</h1><p>Real-world examples of implementing Hugo SQLite Search in various scenarios. All source code is available in the <a href=https://github.com/dlnorman/hugo-lightweight-search>GitHub repository</a>.</p><h2 id=hugo-integration-examples>Hugo Integration Examples</h2><h3 id=1-complete-working-search-page>1. Complete Working Search Page</h3><p>The repository includes a fully functional search page implementation:</p><ul><li><strong>Content file</strong>: <code>content/pages/search.md</code> defines the search page</li><li><strong>Template</strong>: <code>layouts/page/search.html</code> contains the complete search UI and JavaScript client</li><li><strong>Live demo</strong>: <a href=/search/>Try it here</a></li></ul><p>To use this in your site, simply copy these files from the repository to your Hugo site.</p></main><footer><p>Copyright 2025. All rights reserved.</p></footer></body></html>